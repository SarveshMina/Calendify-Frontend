(function(){"use strict";var e={3381:function(e,a,t){var s=t(5130),o=t(6768),n=t(4232);function l(e,a,t,s,l,r){const i=(0,o.g2)("router-view"),d=(0,o.g2)("NotificationPopUp");return(0,o.uX)(),(0,o.CE)("div",{class:(0,n.C4)(["app-container",r.currentThemeClass])},[(0,o.bF)(i),(0,o.bF)(d)],2)}var r=t(782);const i={class:"notification-container","aria-live":"assertive","aria-atomic":"true"},d=["onClick"];function c(e,a,t,l,r,c){return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.bF)(s.F,{name:"fade",tag:"div"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.notifications,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,n.C4)(["notification",e.type]),role:"alert"},[(0,o.Lk)("span",null,(0,n.v_)(e.message),1),(0,o.Lk)("button",{class:"close-btn",onClick:a=>c.removeNotification(e.id),"aria-label":"Close Notification"},"×",8,d)],2)))),128))])),_:1})])}var u={name:"NotificationPopUp",computed:{...(0,r.L8)(["notifications"])},methods:{...(0,r.PY)(["REMOVE_NOTIFICATION"]),removeNotification(e){this.REMOVE_NOTIFICATION(e)}}},h=t(1241);const m=(0,h.A)(u,[["render",c],["__scopeId","data-v-79025798"]]);var p=m,A={name:"App",components:{NotificationPopUp:p},computed:{...(0,r.L8)(["activeCalendarColor"]),currentThemeClass(){return this.activeCalendarColor?`theme-${this.activeCalendarColor}`:"theme-blue"}},mounted(){this.fetchCalendars()},methods:{...(0,r.i0)(["fetchCalendars"])}};const v=(0,h.A)(A,[["render",l]]);var C=v,g=(t(8992),t(7550),t(1387)),k=(t(4114),t(4520),t(2577),t(4373)),f=t(794);const w="http://localhost:7071",E={NODE_ENV:"production",VUE_APP_BACKEND_URL:"http://localhost:7071",VUE_APP_OPENWEATHER_KEY:"4ec25323a0c69cde2ea3885927ad12e7",BASE_URL:"/"}.VUE_APP_FUNCTION_KEY;function y(e){const a=e.startsWith("/")?e:`/${e}`;return`${w}${a}?code=${E}`}const L={async createPersonalCalendar(e,a,t){const s={userId:e,name:a,color:t};return await k.A.post(y("/personal-calendar/create"),s)},async importInternetCalendar(e,a,t="",s="blue"){const o={userId:e,iCalURL:a,name:t,color:s};return await k.A.post(y("/calendar/import"),o)},async deletePersonalCalendar(e,a){return await k.A.post(y(`/personal-calendar/${e}/delete`),{userId:a})},async deleteGroupCalendar(e,a){return await k.A.post(y(`/group-calendar/${e}/delete`),{adminId:a})},async createGroupCalendar(e,a,t,s){const o={ownerId:e,name:a,members:t,color:s};return await k.A.post(y("/group-calendar/create"),o)},async editGroupCalendar(e,a,t){return k.A.put(y(`/group-calendar/${e}/edit`),{adminId:a,...t})},async editPersonalCalendar(e,a,t){const s={...t};return k.A.put(y(`/personal-calendar/${e}/edit`),s,{headers:{user_id:a}})},async addUserToGroupCalendar(e,a,t){return k.A.post(y(`/group-calendar/${e}/add-user`),{adminId:a,userId:t})},async removeUserFromGroupCalendar(e,a,t){return k.A.post(y(`/group-calendar/${e}/remove-user`),{adminId:a,userId:t})},async leaveGroupCalendar(e,a){return k.A.post(y(`/group-calendar/${e}/leave`),{userId:a})},async getUserId(e){return k.A.get(y(`/user/${e}/id`))},async getUserCalendars(e){return await k.A.get(y(`/user/${e}/calendars`))},validateUsername(e){return k.A.get(y(`/user/${e}/id`))},async getAllEvents(e){return await k.A.get(y(`/user/${e}/events`))},getEvents(e,a){return k.A.get(y(`/calendar/${e}/events`),{params:{userId:a}})},addEvent(e,a,t=!1){const s={...a,override:t};return k.A.post(y(`/calendar/${e}/event`),s)},deleteEvent(e,a,t){return k.A.delete(y(`/calendar/${e}/event/${a}/delete`),{data:{userId:t}})},updateEvent(e,a,t,s){return k.A.put(y(`/calendar/${e}/event/${a}/update`),t,{data:{userId:s}})}};var b=L,M={register(e,a,t){return k.A.post(y("/register"),{username:e,password:a,email:t})},login(e,a){return k.A.post(y("/login"),{username:e,password:a})},forgotPassword(e){return k.A.post(y("/forgot-password"),{email:e})},resetPassword(e,a,t){return k.A.post(y("/reset-password"),{email:e,otp:a,newPassword:t})}},I=(0,r.y$)({state:{userId:localStorage.getItem("userId")||"",defaultCalendarId:localStorage.getItem("defaultCalendarId")||"",userDoc:{},notifications:[],calendars:[],activeCalendarId:localStorage.getItem("activeCalendarId")||"",allEvents:[]},mutations:{SET_USER_ID(e,a){e.userId=a},SET_DEFAULT_CALENDAR_ID(e,a){e.defaultCalendarId=a},SET_ACTIVE_CALENDAR_ID(e,a){e.activeCalendarId=a,localStorage.setItem("activeCalendarId",a)},SET_USER_DOC(e,a){e.userDoc=a},CLEAR_AUTH(e){e.userId="",e.defaultCalendarId="",e.activeCalendarId="",e.calendars=[],e.allEvents=[],e.userDoc={},localStorage.removeItem("activeCalendarId"),localStorage.removeItem("userId"),localStorage.removeItem("defaultCalendarId")},ADD_NOTIFICATION(e,a){e.notifications.push(a)},REMOVE_NOTIFICATION(e,a){e.notifications=e.notifications.filter((e=>e.id!==a))},SET_CALENDARS(e,a){e.calendars=a},SET_ALL_EVENTS(e,a){e.allEvents=a}},actions:{async login({commit:e,dispatch:a},t){try{const s=await M.login(t.username,t.password),{userId:o,default_calendar_id:n}=s.data;return e("SET_USER_ID",o),e("SET_DEFAULT_CALENDAR_ID",n),e("SET_ACTIVE_CALENDAR_ID",n),localStorage.setItem("userId",o),localStorage.setItem("defaultCalendarId",n),e("SET_USER_ID",o),await a("fetchUserDoc"),a("fetchCalendars"),a("notify",{type:"success",message:"Logged in successfully."}),s}catch(s){throw a("notify",{type:"error",message:s?.response?.data?.error||"Login failed."}),s}},async register({commit:e,dispatch:a},t){try{const s=await M.register(t.username,t.password,t.email),{userId:o,homeCalendarId:n}=s.data;return e("SET_USER_ID",o),e("SET_DEFAULT_CALENDAR_ID",n),e("SET_ACTIVE_CALENDAR_ID",n),localStorage.setItem("userId",o),localStorage.setItem("defaultCalendarId",n),localStorage.setItem("activeCalendarId",n),await a("fetchUserDoc"),a("fetchCalendars"),a("notify",{type:"success",message:"Registered successfully."}),s}catch(s){throw a("notify",{type:"error",message:s?.response?.data?.error||"Registration failed."}),s}},async forgotPassword({dispatch:e},a){try{const t=await M.forgotPassword(a);return e("notify",{type:"success",message:t.data.message||"OTP sent successfully."}),t}catch(t){throw e("notify",{type:"error",message:t?.response?.data?.error||"Failed to send OTP."}),t}},async resetPassword({dispatch:e},{email:a,otp:t,newPassword:s}){try{const o=await M.resetPassword(a,t,s);return e("notify",{type:"success",message:o.data.message||"Password reset successful."}),o}catch(o){throw e("notify",{type:"error",message:o?.response?.data?.error||"Failed to reset password."}),o}},logout({commit:e,dispatch:a}){e("CLEAR_AUTH"),window.google&&window.google.accounts&&window.google.accounts.id&&window.google.accounts.id.disableAutoSelect(),a("notify",{type:"info",message:"Logged out successfully."})},notify({commit:e},{type:a,message:t,duration:s=4e3}){const o=(0,f.A)();e("ADD_NOTIFICATION",{id:o,type:a,message:t}),setTimeout((()=>{e("REMOVE_NOTIFICATION",o)}),s)},async googleSignIn({commit:e,dispatch:a},t){try{const s=await k.A.post(y("/auth/google"),{idToken:t}),{userId:o,default_calendar_id:n}=s.data;return e("SET_USER_ID",o),e("SET_DEFAULT_CALENDAR_ID",n),e("SET_ACTIVE_CALENDAR_ID",n),localStorage.setItem("userId",o),localStorage.setItem("defaultCalendarId",n),localStorage.setItem("activeCalendarId",n),await a("fetchUserDoc"),await a("fetchCalendars"),a("notify",{type:"success",message:"Google sign-in successful!"}),s}catch(s){throw a("notify",{type:"error",message:s?.response?.data?.error||"Google sign-in failed."}),s}},async fetchUserDoc({commit:e,state:a}){try{const t=await k.A.get(y(`/user/${a.userId}/profile`));e("SET_USER_DOC",t.data)}catch(t){console.error("Failed to fetch user doc:",t)}},async fetchCalendars({commit:e,state:a,dispatch:t}){try{const s=await b.getUserCalendars(a.userId),o=s.data.calendars||[];e("SET_CALENDARS",o),await t("fetchAllEvents")}catch(s){t("notify",{type:"error",message:"Failed to fetch calendars."})}},async fetchAllEvents({commit:e,state:a,dispatch:t}){try{const t=await b.getAllEvents(a.userId),s=t.data.events||[];e("SET_ALL_EVENTS",s)}catch(s){t("notify",{type:"error",message:"Failed to fetch all events."})}}},getters:{isAuthenticated:e=>!!e.userId,userId:e=>e.userId,defaultCalendarId:e=>e.defaultCalendarId,notifications:e=>e.notifications,calendars:e=>e.calendars,activeCalendarId:e=>e.activeCalendarId,currentUsername:e=>e.userDoc.username||"",currentEmail:e=>e.userDoc.email||"",activeCalendar:e=>e.calendars.find((a=>a.calendarId===e.activeCalendarId)),activeCalendarColor:(e,a)=>{const t=a.activeCalendar;return t?t.color:"blue"},allEvents:e=>e.allEvents}});const D={class:"auth-header"},P=["title"],T=["src"],U={class:"auth-intro"},S={class:"logo-container"},V=["src"],F={class:"auth-main"},N={key:0,class:"auth-panel login-panel"},G={class:"form-group"},x={class:"form-group password-group"},X=["type"],R=["src"],Q={key:0,class:"error",role:"alert"},B=["disabled"],Y={key:0,class:"button-content"},q={key:1},O={class:"switch-link"},$={class:"switch-link"},_={key:1,class:"auth-panel register-panel"},W={class:"form-group"},K={class:"form-group"},H={class:"form-group password-group"},j=["type"],J=["src"],z={class:"form-group password-group"},Z=["type"],ee=["src"],ae={key:0,class:"error",role:"alert"},te=["disabled"],se={key:0,class:"button-content"},oe={key:1},ne={class:"switch-link"},le={key:2,class:"auth-panel forgot-password-panel"},re={class:"form-group"},ie={key:0,class:"error",role:"alert"},de={key:1,class:"success",role:"status"},ce=["disabled"],ue={key:0,class:"button-content"},he={key:1},me={class:"switch-link"},pe={key:3,class:"auth-panel reset-password-panel"},Ae={class:"form-group"},ve={class:"form-group"},Ce={class:"form-group password-group"},ge=["type"],ke=["src"],fe={class:"form-group password-group"},we=["type"],Ee=["src"],ye={key:0,class:"error",role:"alert"},Le={key:1,class:"success",role:"status"},be=["disabled"],Me={key:0,class:"button-content"},Ie={key:1},De={class:"switch-link"},Pe={class:"notifications","aria-live":"polite"};function Te(e,a,t,l,r,i){const d=(0,o.g2)("SpinnerLoader");return(0,o.uX)(),(0,o.CE)("div",{class:"auth-container",onMousemove:a[26]||(a[26]=(...e)=>i.handleMouseMove&&i.handleMouseMove(...e))},[a[44]||(a[44]=(0,o.Lk)("div",{class:"background-animation"},null,-1)),a[45]||(a[45]=(0,o.Lk)("div",{class:"overlay"},null,-1)),(0,o.Lk)("header",D,[a[27]||(a[27]=(0,o.Lk)("h1",{class:"app-name"},"Calendify",-1)),(0,o.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>i.toggleDarkMode&&i.toggleDarkMode(...e)),class:"toggle-container","aria-label":"Toggle Dark Mode",title:r.darkMode?"Switch to Light Mode":"Switch to Dark Mode"},[(0,o.Lk)("img",{src:r.darkMode?r.moonIcon:r.sunIcon,alt:"Dark Mode Toggle",class:"toggle-icon"},null,8,T)],8,P)]),(0,o.Lk)("section",U,[(0,o.Lk)("div",S,[(0,o.Lk)("img",{src:i.currentLogo,alt:"Calendify Logo",class:"logo"},null,8,V)]),a[28]||(a[28]=(0,o.Lk)("h2",{class:"slogan"},"Organize Your Life Seamlessly",-1)),a[29]||(a[29]=(0,o.Lk)("p",{class:"description"}," Calendify is your ultimate shared calendar solution, enabling you to schedule, collaborate, and stay on top of your events effortlessly. ",-1))]),(0,o.Lk)("main",F,["login"===r.currentView?((0,o.uX)(),(0,o.CE)("div",N,[a[33]||(a[33]=(0,o.Lk)("h3",null,"Welcome Back",-1)),(0,o.Lk)("form",{onSubmit:a[4]||(a[4]=(0,s.D$)(((...e)=>i.doLogin&&i.doLogin(...e)),["prevent"]))},[(0,o.Lk)("div",G,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>r.loginUsername=e),type:"text",placeholder:"Username",required:"",class:"auth-input","aria-label":"Username",autocomplete:"username"},null,512),[[s.Jo,r.loginUsername]])]),(0,o.Lk)("div",x,[(0,o.bo)((0,o.Lk)("input",{type:r.showLoginPassword?"text":"password","onUpdate:modelValue":a[2]||(a[2]=e=>r.loginPassword=e),placeholder:"Password",required:"",class:"auth-input","aria-label":"Password",autocomplete:"current-password"},null,8,X),[[s.hp,r.loginPassword]]),(0,o.Lk)("img",{src:r.showLoginPassword?r.eyeOffIcon:r.eyeIcon,alt:"Toggle Password Visibility",class:"toggle-password",onClick:a[3]||(a[3]=(...e)=>i.toggleLoginPassword&&i.toggleLoginPassword(...e)),role:"button",tabindex:"0","aria-label":"Toggle Password Visibility"},null,8,R)]),r.loginError?((0,o.uX)(),(0,o.CE)("p",Q,(0,n.v_)(r.loginError),1)):(0,o.Q3)("",!0),(0,o.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:r.loginLoading},[r.loginLoading?((0,o.uX)(),(0,o.CE)("span",Y,[(0,o.bF)(d),a[30]||(a[30]=(0,o.eW)(" Signing in... "))])):((0,o.uX)(),(0,o.CE)("span",q,"Sign In"))],8,B),a[31]||(a[31]=(0,o.Lk)("div",{class:"google-signin-wrapper"},[(0,o.Lk)("div",{id:"google-button-login"})],-1))],32),(0,o.Lk)("p",O,[a[32]||(a[32]=(0,o.eW)(" Don't have an account? ")),(0,o.Lk)("a",{href:"#",onClick:a[5]||(a[5]=(0,s.D$)((e=>i.switchView("register")),["prevent"]))},"Create account")]),(0,o.Lk)("p",$,[(0,o.Lk)("a",{href:"#",onClick:a[6]||(a[6]=(0,s.D$)((e=>i.switchView("forgotPassword")),["prevent"]))},"Forgot password?")])])):"register"===r.currentView?((0,o.uX)(),(0,o.CE)("div",_,[a[37]||(a[37]=(0,o.Lk)("h3",null,"Create Account",-1)),(0,o.Lk)("form",{onSubmit:a[13]||(a[13]=(0,s.D$)(((...e)=>i.doRegister&&i.doRegister(...e)),["prevent"]))},[(0,o.Lk)("div",W,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>r.registerUsername=e),type:"text",placeholder:"Username",required:"",class:"auth-input","aria-label":"Username",autocomplete:"username"},null,512),[[s.Jo,r.registerUsername]])]),(0,o.Lk)("div",K,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>r.registerEmail=e),type:"email",placeholder:"Email",required:"",class:"auth-input","aria-label":"Email",autocomplete:"email"},null,512),[[s.Jo,r.registerEmail]])]),(0,o.Lk)("div",H,[(0,o.bo)((0,o.Lk)("input",{type:r.showRegisterPassword?"text":"password","onUpdate:modelValue":a[9]||(a[9]=e=>r.registerPassword=e),placeholder:"Password",required:"",class:"auth-input","aria-label":"Password",autocomplete:"new-password"},null,8,j),[[s.hp,r.registerPassword]]),(0,o.Lk)("img",{src:r.showRegisterPassword?r.eyeOffIcon:r.eyeIcon,alt:"Toggle Password Visibility",class:"toggle-password",onClick:a[10]||(a[10]=(...e)=>i.toggleRegisterPassword&&i.toggleRegisterPassword(...e)),role:"button",tabindex:"0","aria-label":"Toggle Password Visibility"},null,8,J)]),(0,o.Lk)("div",z,[(0,o.bo)((0,o.Lk)("input",{type:r.showConfirmPassword?"text":"password","onUpdate:modelValue":a[11]||(a[11]=e=>r.confirmPassword=e),placeholder:"Confirm Password",required:"",class:"auth-input","aria-label":"Confirm Password",autocomplete:"new-password"},null,8,Z),[[s.hp,r.confirmPassword]]),(0,o.Lk)("img",{src:r.showConfirmPassword?r.eyeOffIcon:r.eyeIcon,alt:"Toggle Confirm Password Visibility",class:"toggle-password",onClick:a[12]||(a[12]=(...e)=>i.toggleConfirmPassword&&i.toggleConfirmPassword(...e)),role:"button",tabindex:"0","aria-label":"Toggle Confirm Password Visibility"},null,8,ee)]),r.registerError?((0,o.uX)(),(0,o.CE)("p",ae,(0,n.v_)(r.registerError),1)):(0,o.Q3)("",!0),(0,o.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:r.registerLoading},[r.registerLoading?((0,o.uX)(),(0,o.CE)("span",se,[(0,o.bF)(d),a[34]||(a[34]=(0,o.eW)(" Creating account... "))])):((0,o.uX)(),(0,o.CE)("span",oe,"Create Account"))],8,te),a[35]||(a[35]=(0,o.Lk)("div",{class:"google-signin-wrapper"},[(0,o.Lk)("div",{id:"google-button-register"})],-1))],32),(0,o.Lk)("p",ne,[a[36]||(a[36]=(0,o.eW)(" Already have an account? ")),(0,o.Lk)("a",{href:"#",onClick:a[14]||(a[14]=(0,s.D$)((e=>i.switchView("login")),["prevent"]))},"Sign in")])])):"forgotPassword"===r.currentView?((0,o.uX)(),(0,o.CE)("div",le,[a[40]||(a[40]=(0,o.Lk)("h3",null,"Reset Password",-1)),(0,o.Lk)("form",{onSubmit:a[16]||(a[16]=(0,s.D$)(((...e)=>i.requestResetPassword&&i.requestResetPassword(...e)),["prevent"]))},[(0,o.Lk)("div",re,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[15]||(a[15]=e=>r.forgotEmail=e),type:"email",placeholder:"Your Email Address",required:"",class:"auth-input","aria-label":"Email",autocomplete:"email"},null,512),[[s.Jo,r.forgotEmail]])]),r.forgotPasswordError?((0,o.uX)(),(0,o.CE)("p",ie,(0,n.v_)(r.forgotPasswordError),1)):(0,o.Q3)("",!0),r.forgotPasswordMessage?((0,o.uX)(),(0,o.CE)("p",de,(0,n.v_)(r.forgotPasswordMessage),1)):(0,o.Q3)("",!0),(0,o.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:r.forgotPasswordLoading},[r.forgotPasswordLoading?((0,o.uX)(),(0,o.CE)("span",ue,[(0,o.bF)(d),a[38]||(a[38]=(0,o.eW)(" Sending verification code... "))])):((0,o.uX)(),(0,o.CE)("span",he,"Send Verification Code"))],8,ce)],32),(0,o.Lk)("p",me,[a[39]||(a[39]=(0,o.eW)(" Remember your password? ")),(0,o.Lk)("a",{href:"#",onClick:a[17]||(a[17]=(0,s.D$)((e=>i.switchView("login")),["prevent"]))},"Sign in")])])):"resetPassword"===r.currentView?((0,o.uX)(),(0,o.CE)("div",pe,[a[43]||(a[43]=(0,o.Lk)("h3",null,"Create New Password",-1)),(0,o.Lk)("form",{onSubmit:a[24]||(a[24]=(0,s.D$)(((...e)=>i.performResetPassword&&i.performResetPassword(...e)),["prevent"]))},[(0,o.Lk)("div",Ae,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[18]||(a[18]=e=>r.resetEmail=e),type:"email",placeholder:"Your Email Address",required:"",class:"auth-input","aria-label":"Email",autocomplete:"email"},null,512),[[s.Jo,r.resetEmail]])]),(0,o.Lk)("div",ve,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[19]||(a[19]=e=>r.resetOTP=e),type:"text",placeholder:"Verification Code",required:"",class:"auth-input","aria-label":"Verification Code",maxlength:"6",autocomplete:"one-time-code"},null,512),[[s.Jo,r.resetOTP]])]),(0,o.Lk)("div",Ce,[(0,o.bo)((0,o.Lk)("input",{type:r.showResetPassword?"text":"password","onUpdate:modelValue":a[20]||(a[20]=e=>r.resetPasswordInput=e),placeholder:"New Password",required:"",class:"auth-input","aria-label":"New Password",autocomplete:"new-password"},null,8,ge),[[s.hp,r.resetPasswordInput]]),(0,o.Lk)("img",{src:r.showResetPassword?r.eyeOffIcon:r.eyeIcon,alt:"Toggle Password Visibility",class:"toggle-password",onClick:a[21]||(a[21]=(...e)=>i.toggleResetPassword&&i.toggleResetPassword(...e)),role:"button",tabindex:"0","aria-label":"Toggle Password Visibility"},null,8,ke)]),(0,o.Lk)("div",fe,[(0,o.bo)((0,o.Lk)("input",{type:r.showConfirmResetPassword?"text":"password","onUpdate:modelValue":a[22]||(a[22]=e=>r.confirmResetPassword=e),placeholder:"Confirm New Password",required:"",class:"auth-input","aria-label":"Confirm New Password",autocomplete:"new-password"},null,8,we),[[s.hp,r.confirmResetPassword]]),(0,o.Lk)("img",{src:r.showConfirmResetPassword?r.eyeOffIcon:r.eyeIcon,alt:"Toggle Confirm Password Visibility",class:"toggle-password",onClick:a[23]||(a[23]=(...e)=>i.toggleConfirmResetPassword&&i.toggleConfirmResetPassword(...e)),role:"button",tabindex:"0","aria-label":"Toggle Confirm Password Visibility"},null,8,Ee)]),r.resetPasswordError?((0,o.uX)(),(0,o.CE)("p",ye,(0,n.v_)(r.resetPasswordError),1)):(0,o.Q3)("",!0),r.resetPasswordMessage?((0,o.uX)(),(0,o.CE)("p",Le,(0,n.v_)(r.resetPasswordMessage),1)):(0,o.Q3)("",!0),(0,o.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:r.resetPasswordLoading},[r.resetPasswordLoading?((0,o.uX)(),(0,o.CE)("span",Me,[(0,o.bF)(d),a[41]||(a[41]=(0,o.eW)(" Resetting password... "))])):((0,o.uX)(),(0,o.CE)("span",Ie,"Reset Password"))],8,be)],32),(0,o.Lk)("p",De,[a[42]||(a[42]=(0,o.eW)(" Need a new verification code? ")),(0,o.Lk)("a",{href:"#",onClick:a[25]||(a[25]=(0,s.D$)((e=>i.switchView("forgotPassword")),["prevent"]))},"Request Code")])])):(0,o.Q3)("",!0)]),a[46]||(a[46]=(0,o.Lk)("footer",{class:"auth-footer"},[(0,o.Lk)("p",null,"© 2025 Calendify. All rights reserved.")],-1)),(0,o.Lk)("div",Pe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.notifications,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,n.C4)(["notification",e.type]),role:"alert"},(0,n.v_)(e.message),3)))),128))])],32)}function Ue(e,a,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",{class:(0,n.C4)(["spinner-container",{small:"small"===t.size}])},a[0]||(a[0]=[(0,o.Lk)("div",{class:"spinner"},null,-1)]),2)}var Se={name:"SpinnerLoader",props:{size:{type:String,default:"normal",validator:e=>["small","normal","large"].includes(e)}}};const Ve=(0,h.A)(Se,[["render",Ue],["__scopeId","data-v-6b5746b4"]]);var Fe=Ve,Ne={name:"AuthLanding",components:{SpinnerLoader:Fe},data(){return{currentView:"login",loginUsername:"",loginPassword:"",loginError:null,showLoginPassword:!1,loginLoading:!1,registerUsername:"",registerEmail:"",registerPassword:"",confirmPassword:"",registerError:null,showRegisterPassword:!1,showConfirmPassword:!1,registerLoading:!1,forgotEmail:"",forgotPasswordError:null,forgotPasswordMessage:null,forgotPasswordLoading:!1,resetEmail:"",resetOTP:"",resetPasswordInput:"",confirmResetPassword:"",resetPasswordError:null,resetPasswordMessage:null,showResetPassword:!1,showConfirmResetPassword:!1,resetPasswordLoading:!1,darkMode:"true"===localStorage.getItem("darkMode"),moonIcon:t(5247),sunIcon:t(7391),eyeIcon:t(9862),eyeOffIcon:t(1674),lightLogo:t(3851),darkLogo:t(2563),throttleTimeout:null}},computed:{...(0,r.L8)(["notifications"]),currentLogo(){return this.darkMode?this.lightLogo:this.darkLogo}},watch:{currentView(e){"login"!==e&&"register"!==e||this.$nextTick((()=>{this.renderGoogleButton()}))},darkMode(){window.google?.accounts?.id&&this.$nextTick((()=>{this.renderGoogleButton()}))}},methods:{...(0,r.i0)(["login","register","forgotPassword","resetPassword","notify","googleSignIn"]),switchView(e){if(this.loginLoading||this.registerLoading||this.forgotPasswordLoading||this.resetPasswordLoading)return void this.notify({type:"info",message:"Please wait for the current operation to complete."});const a=["login","register","forgotPassword","resetPassword"];a.includes(e)?(this.currentView=e,this.clearMessages(),"resetPassword"===e&&this.forgotEmail&&(this.resetEmail=this.forgotEmail)):this.notify({type:"error",message:"Invalid view requested."})},clearMessages(){this.loginError=null,this.registerError=null,this.forgotPasswordError=null,this.forgotPasswordMessage=null,this.resetPasswordError=null,this.resetPasswordMessage=null},handleGoogleLogin(e){e&&e.credential&&this.handleGoogleIDToken(e.credential)},async handleGoogleIDToken(e){try{await this.googleSignIn(e),this.$router.push("/dashboard")}catch(a){console.error("Google sign-in error:",a),this.notify({type:"error",message:"Google sign-in failed. Please try again."})}},renderGoogleButton(){if(!window.google?.accounts?.id)return void console.log("Google Identity Services not loaded yet");window.google.accounts.id.initialize({client_id:"254139626237-l4klntpne4skrjof2401ecr4l6tv275s.apps.googleusercontent.com",callback:this.handleGoogleLogin,auto_select:!1,cancel_on_tap_outside:!0});const e="login"===this.currentView?"google-button-login":"google-button-register",a=document.getElementById(e);a&&(a.innerHTML="",window.google.accounts.id.renderButton(a,{type:"standard",theme:this.darkMode?"outline":"filled_blue",size:"large",shape:"pill",text:"continue_with",logo_alignment:"center",width:"100%"}),setTimeout((()=>{const e=a.querySelector("iframe");if(e){const a=e.contentDocument||e.contentWindow.document,t=a.querySelector('div[role="button"]');t&&(t.style.width="100%",t.style.maxWidth="280px",t.style.margin="0 auto")}}),100)),window.google.accounts.id.cancel()},async doLogin(){this.loginLoading=!0,this.loginError=null;try{await this.login({username:this.loginUsername,password:this.loginPassword}),this.$router.push("/dashboard")}catch(e){this.loginError=e?.response?.data?.error||"Login failed. Please check your credentials."}finally{this.loginLoading=!1}},async doRegister(){if(this.registerPassword===this.confirmPassword){this.registerLoading=!0,this.registerError=null;try{await this.register({username:this.registerUsername,password:this.registerPassword,email:this.registerEmail}),this.$router.push("/dashboard")}catch(e){this.registerError=e?.response?.data?.error||"Registration failed. Please try again."}finally{this.registerLoading=!1}}else this.registerError="Passwords do not match."},async requestResetPassword(){this.forgotPasswordLoading=!0,this.forgotPasswordError=null,this.forgotPasswordMessage=null;try{const e=await this.forgotPassword(this.forgotEmail);this.forgotPasswordMessage=e.data.message||"Verification code sent to your email.",this.resetEmail=this.forgotEmail,setTimeout((()=>{this.switchView("resetPassword")}),1500)}catch(e){this.forgotPasswordError=e?.response?.data?.error||"Failed to send verification code. Please try again."}finally{this.forgotPasswordLoading=!1}},async performResetPassword(){if(this.resetPasswordInput===this.confirmResetPassword){this.resetPasswordLoading=!0,this.resetPasswordError=null,this.resetPasswordMessage=null;try{const e=await this.resetPassword({email:this.resetEmail,otp:this.resetOTP,newPassword:this.resetPasswordInput});this.resetPasswordMessage=e.data.message||"Password reset successful.",setTimeout((()=>{this.switchView("login"),this.resetEmail="",this.resetOTP="",this.resetPasswordInput="",this.confirmResetPassword=""}),2e3)}catch(e){this.resetPasswordError=e?.response?.data?.error||"Failed to reset password. Please verify your information."}finally{this.resetPasswordLoading=!1}}else this.resetPasswordError="Passwords do not match."},toggleDarkMode(){this.darkMode=!this.darkMode,document.body.classList.toggle("dark-mode",this.darkMode),localStorage.setItem("darkMode",this.darkMode)},toggleLoginPassword(){this.showLoginPassword=!this.showLoginPassword},toggleRegisterPassword(){this.showRegisterPassword=!this.showRegisterPassword},toggleConfirmPassword(){this.showConfirmPassword=!this.showConfirmPassword},toggleResetPassword(){this.showResetPassword=!this.showResetPassword},toggleConfirmResetPassword(){this.showConfirmResetPassword=!this.showConfirmResetPassword},handleMouseMove(e){const{clientX:a,clientY:t}=e,s=window.innerWidth,o=window.innerHeight,n=a/s,l=t/o,r=135+40*(n-.5)+40*(l-.5),i=(10*(n-.5)).toFixed(1),d=(10*(l-.5)).toFixed(1);this.throttleTimeout||(this.throttleTimeout=setTimeout((()=>{this.$el.style.setProperty("--gradient-angle",`${r}deg`),this.$el.style.setProperty("--mouse-x",n.toFixed(3)),this.$el.style.setProperty("--mouse-y",l.toFixed(3)),this.$el.style.setProperty("--shadow-offset-x",`${i}px`),this.$el.style.setProperty("--shadow-offset-y",`${d}px`),this.throttleTimeout=null}),30))}},mounted(){document.body.classList.toggle("dark-mode",this.darkMode);const e=()=>{window.googleScriptLoaded&&window.google?.accounts?.id?this.renderGoogleButton():requestAnimationFrame(e)};window.google?.accounts?.id?this.renderGoogleButton():e();const a=135+30*Math.random();this.$el.style.setProperty("--gradient-angle",`${a}deg`)},beforeUnmount(){this.throttleTimeout&&clearTimeout(this.throttleTimeout)}};const Ge=(0,h.A)(Ne,[["render",Te],["__scopeId","data-v-535c1ef4"]]);var xe=Ge;const Xe={class:"dashboard-header"},Re={class:"header-left"},Qe=["src"],Be={class:"header-right"},Ye={class:"header-actions"},qe={class:"account-dropdown",ref:"accountDropdown"},Oe={class:"user-name"},$e={class:"account-panel-header"},_e={class:"panel-user-info"},We={class:"account-panel-content"},Ke={class:"panel-section"},He={class:"panel-section"},je={class:"panel-calendar-list"},Je=["onClick"],ze={class:"calendar-name"},Ze={class:"calendar-type"},ea={key:0,class:"panel-more-calendars"},aa={class:"panel-actions"},ta={class:"dashboard-content"},sa={class:"sidebar-section"},oa={class:"section-header"},na={class:"calendar-list"},la=["onClick"],ra={class:"calendar-name"},ia={class:"calendar-actions"},da={class:"sidebar-section"},ca={class:"section-header"},ua={class:"calendar-list"},ha=["onClick"],ma={class:"calendar-name"},pa={class:"calendar-meta"},Aa={class:"member-count"},va={class:"sidebar-section"},Ca={class:"quick-actions"},ga=["disabled"],ka={class:"sidebar-section"},fa={class:"stats-container"},wa={class:"stat-card"},Ea={class:"stat-value"},ya={class:"stat-card"},La={class:"stat-value"},ba={class:"stat-card"},Ma={class:"stat-value"},Ia={class:"dashboard-main"},Da={class:"content-header"},Pa={class:"content-title"},Ta={class:"content-subtitle"},Ua={class:"content-actions"},Sa={class:"view-selector"},Va={class:"calendar-container"},Fa={key:2,class:"calendar-loading"},Na={class:"dashboard-widgets"},Ga={class:"widget upcoming-events"},xa={class:"widget-header"},Xa={class:"widget-content"},Ra={key:0,class:"events-list"},Qa={class:"event-time"},Ba={class:"event-details"},Ya={class:"event-title"},qa={class:"event-calendar"},Oa={key:1,class:"empty-state"},$a={class:"widget weather-widget"},_a={class:"widget-header"},Wa={class:"location"},Ka={key:0,class:"widget-content weather-content"},Ha={key:0,class:"current-weather"},ja={class:"weather-temp"},Ja={class:"weather-desc"},za={key:1,class:"weather-forecast"},Za={key:2,class:"empty-state"},et={key:1,class:"widget-content"},at={class:"modal-content enhanced-modal"},tt={class:"modal-body"},st={class:"form-group"},ot={class:"form-group"},nt={class:"form-group"},lt={id:"importCalColor",class:"color-options enhanced-colors"},rt=["value"],it={class:"modal-footer enhanced-footer"},dt=["disabled"],ct={key:0},ut={key:1},ht=["disabled"],mt={class:"modal-content enhanced-modal"},pt={class:"modal-body"},At={class:"form-group"},vt={class:"form-group"},Ct={id:"calendarColor",class:"color-options enhanced-colors"},gt=["value"],kt={class:"modal-footer enhanced-footer"},ft={class:"modal-content enhanced-modal"},wt={class:"modal-body"},Et={class:"form-group"},yt={class:"form-group"},Lt={id:"groupCalColor",class:"color-options enhanced-colors"},bt=["value"],Mt={class:"form-group"},It={class:"member-chips enhanced-chips"},Dt=["onClick"],Pt={class:"member-input"},Tt={class:"modal-footer enhanced-footer"},Ut={class:"modal-content enhanced-modal"},St={class:"modal-body"},Vt={class:"form-group"},Ft={class:"form-group"},Nt={id:"editPersonalCalendarColor",class:"color-options enhanced-colors"},Gt=["value"],xt={class:"modal-footer enhanced-footer"},Xt={class:"modal-content"},Rt={class:"modal-header"},Qt={class:"modal-body"},Bt={class:"calendar-meta-info"},Yt={class:"calendar-type-badge"},qt={class:"calendar-owner"},Ot={class:"calendar-details-container"},$t={class:"calendar-stats"},_t={class:"calendar-stat-item"},Wt={class:"stat-info"},Kt={class:"stat-value"},Ht={key:0,class:"calendar-stat-item"},jt={class:"stat-info"},Jt={class:"stat-value"},zt={class:"calendar-stat-item"},Zt={class:"stat-info"},es={class:"stat-value"},as={key:0},ts={class:"members-container"},ss={class:"member-avatar"},os={class:"member-name"},ns=["onClick"],ls={class:"member-actions"},rs={class:"modal-footer"},is=["disabled"],ds={class:"modal-content enhanced-modal"},cs={class:"modal-body"},us={class:"form-group"},hs={class:"modal-footer enhanced-footer"},ms={class:"modal-content enhanced-modal"},ps={class:"modal-body"},As={class:"enhanced-field-info"},vs={class:"form-group"},Cs=["for"],gs=["id","type","placeholder"],ks={key:0,class:"form-group"},fs={key:0,class:"password-match-error"},ws={class:"modal-footer enhanced-footer"};function Es(e,a,l,r,i,d){const c=(0,o.g2)("router-link"),u=(0,o.g2)("HomeCalendar"),h=(0,o.g2)("PersonalCalendar"),m=(0,o.g2)("ConfirmationModal");return(0,o.uX)(),(0,o.CE)("div",{class:(0,n.C4)(["dashboard-container",e.activeCalendar?.color?`theme-${e.activeCalendar.color}`:"theme-blue",{"dark-mode":i.darkMode}]),style:(0,n.Tr)({"--accent-color":d.calColor(d.activeCalendarColor)})},[(0,o.Lk)("header",Xe,[(0,o.Lk)("div",Re,[(0,o.bF)(c,{to:"/dashboard",class:"logo-link"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{src:i.darkMode?t(2563):t(3851),alt:"Calendify Logo",class:"calendify-logo"},null,8,Qe),a[65]||(a[65]=(0,o.Lk)("h1",null,"Calendify",-1))])),_:1})]),(0,o.Lk)("div",Be,[a[77]||(a[77]=(0,o.Lk)("div",{class:"search-container"},[(0,o.Lk)("input",{type:"text",placeholder:"Search events...",class:"search-input"}),(0,o.Lk)("i",{class:"search-icon"})],-1)),(0,o.Lk)("button",{class:"icon-button burger",onClick:a[0]||(a[0]=(...e)=>d.toggleSidebar&&d.toggleSidebar(...e)),"aria-label":"Toggle sidebar"},[(0,o.Lk)("i",{class:(0,n.C4)(["burger-icon",{open:!i.sidebarCollapsed}])},null,2)]),(0,o.Lk)("div",Ye,[a[76]||(a[76]=(0,o.Lk)("button",{class:"icon-button notifications-button","aria-label":"Notifications"},[(0,o.Lk)("i",{class:"notification-icon"}),(0,o.Lk)("span",{class:"notification-badge"},"3")],-1)),(0,o.Lk)("div",qe,[(0,o.Lk)("button",{class:"user-profile-button",onClick:a[1]||(a[1]=(...e)=>d.toggleAccountPanel&&d.toggleAccountPanel(...e)),"aria-label":"Open Account Panel"},[a[66]||(a[66]=(0,o.Lk)("img",{src:"https://ui-avatars.com/api/?name=User&background=random",alt:"User Avatar",class:"user-avatar"},null,-1)),(0,o.Lk)("span",Oe,(0,n.v_)(d.currentapUsername||"User"),1),(0,o.Lk)("i",{class:(0,n.C4)(["chevron-icon",{rotated:i.showAccountPanel}])},null,2)]),(0,o.bF)(s.eB,{name:"fade-slide"},{default:(0,o.k6)((()=>[i.showAccountPanel?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"account-panel",onClick:a[7]||(a[7]=(0,s.D$)((()=>{}),["stop"]))},[(0,o.Lk)("div",$e,[a[67]||(a[67]=(0,o.Lk)("img",{src:"https://ui-avatars.com/api/?name=User&background=random",alt:"User Avatar",class:"panel-avatar"},null,-1)),(0,o.Lk)("div",_e,[(0,o.Lk)("h3",null,(0,n.v_)(d.currentapUsername),1),(0,o.Lk)("p",null,(0,n.v_)(d.currentapEmail),1)])]),(0,o.Lk)("div",We,[(0,o.Lk)("div",Ke,[a[71]||(a[71]=(0,o.Lk)("h4",{class:"panel-section-title"},"Account",-1)),(0,o.Lk)("div",{class:"panel-menu-item",onClick:a[2]||(a[2]=e=>d.openEditFieldModal("username"))},a[68]||(a[68]=[(0,o.Lk)("i",{class:"user-edit-icon"},null,-1),(0,o.Lk)("span",null,"Edit Username",-1)])),(0,o.Lk)("div",{class:"panel-menu-item",onClick:a[3]||(a[3]=e=>d.openEditFieldModal("email"))},a[69]||(a[69]=[(0,o.Lk)("i",{class:"email-edit-icon"},null,-1),(0,o.Lk)("span",null,"Update Email",-1)])),(0,o.Lk)("div",{class:"panel-menu-item",onClick:a[4]||(a[4]=e=>d.openEditFieldModal("password"))},a[70]||(a[70]=[(0,o.Lk)("i",{class:"password-edit-icon"},null,-1),(0,o.Lk)("span",null,"Change Password",-1)]))]),a[74]||(a[74]=(0,o.Lk)("hr",{class:"panel-divider"},null,-1)),(0,o.Lk)("div",He,[a[72]||(a[72]=(0,o.Lk)("h4",{class:"panel-section-title"},"Your Calendars",-1)),(0,o.Lk)("div",je,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.userCalendars.slice(0,3),(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.calendarId,class:"panel-calendar-item",style:(0,n.Tr)({"--cal-indicator":d.calColor(e.color)}),onClick:a=>d.accountPanelGotoCalendar(e.calendarId)},[(0,o.Lk)("span",ze,(0,n.v_)(e.name),1),(0,o.Lk)("small",Ze,(0,n.v_)(e.isGroup?"Group":"Personal"),1)],12,Je)))),128)),d.userCalendars.length>3?((0,o.uX)(),(0,o.CE)("div",ea," +"+(0,n.v_)(d.userCalendars.length-3)+" more calendars ",1)):(0,o.Q3)("",!0)])]),a[75]||(a[75]=(0,o.Lk)("hr",{class:"panel-divider"},null,-1)),(0,o.Lk)("div",aa,[(0,o.Lk)("button",{class:"panel-action-button",onClick:a[5]||(a[5]=(...e)=>d.toggleDarkMode&&d.toggleDarkMode(...e))},[(0,o.Lk)("i",{class:(0,n.C4)([i.darkMode?"light-mode-icon":"dark-mode-icon"])},null,2),(0,o.Lk)("span",null,(0,n.v_)(i.darkMode?"Light Mode":"Dark Mode"),1)]),(0,o.Lk)("button",{class:"panel-action-button logout-button",onClick:a[6]||(a[6]=(...e)=>d.handleLogout&&d.handleLogout(...e))},a[73]||(a[73]=[(0,o.Lk)("i",{class:"logout-icon"},null,-1),(0,o.Lk)("span",null,"Logout",-1)]))])])])):(0,o.Q3)("",!0)])),_:1})],512)])])]),(0,o.Lk)("div",ta,[(0,o.Lk)("aside",{class:(0,n.C4)(["dashboard-sidebar",{collapsed:i.sidebarCollapsed}])},[(0,o.Lk)("div",sa,[(0,o.Lk)("div",oa,[a[79]||(a[79]=(0,o.Lk)("h3",null,"My Calendars",-1)),(0,o.Lk)("button",{class:"add-button",onClick:a[8]||(a[8]=(...e)=>d.openCreateModal&&d.openCreateModal(...e)),"aria-label":"Create personal calendar"},a[78]||(a[78]=[(0,o.Lk)("i",{class:"plus-icon"},null,-1)]))]),(0,o.Lk)("div",na,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.personalCalendars,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.calendarId,onClick:e=>d.setActiveCalendar(t.calendarId),class:(0,n.C4)(["calendar-item",{active:t.calendarId===e.activeCalendarId}]),style:(0,n.Tr)({"--cal-indicator":d.calColor(t.color)})},[(0,o.Lk)("span",ra,(0,n.v_)(t.name),1),(0,o.Lk)("div",ia,[t.calendarId===e.activeCalendarId?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"calendar-action-btn edit-btn",onClick:a[9]||(a[9]=(0,s.D$)(((...e)=>d.openEditPersonalCalendarModal&&d.openEditPersonalCalendarModal(...e)),["stop"])),"aria-label":"Edit calendar"},a[80]||(a[80]=[(0,o.Lk)("i",{class:"edit-icon"},null,-1)]))):(0,o.Q3)("",!0)])],14,la)))),128))])]),(0,o.Lk)("div",da,[(0,o.Lk)("div",ca,[a[82]||(a[82]=(0,o.Lk)("h3",null,"Group Calendars",-1)),(0,o.Lk)("button",{class:"add-button",onClick:a[10]||(a[10]=(...e)=>d.openCreateGroupModal&&d.openCreateGroupModal(...e)),"aria-label":"Create group calendar"},a[81]||(a[81]=[(0,o.Lk)("i",{class:"plus-icon"},null,-1)]))]),(0,o.Lk)("div",ua,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.groupCalendars,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.calendarId,onClick:e=>d.setActiveCalendar(a.calendarId),class:(0,n.C4)(["calendar-item",{active:a.calendarId===e.activeCalendarId}]),style:(0,n.Tr)({"--cal-indicator":d.calColor(a.color)})},[(0,o.Lk)("span",ma,(0,n.v_)(a.name),1),(0,o.Lk)("div",pa,[(0,o.Lk)("span",Aa,(0,n.v_)(d.getMemberCount(a))+" members",1)])],14,ha)))),128))])]),(0,o.Lk)("div",va,[a[86]||(a[86]=(0,o.Lk)("div",{class:"section-header"},[(0,o.Lk)("h3",null,"Quick Actions")],-1)),(0,o.Lk)("div",Ca,[(0,o.Lk)("button",{class:"quick-action-btn",onClick:a[11]||(a[11]=(...e)=>d.openImportModal&&d.openImportModal(...e))},a[83]||(a[83]=[(0,o.Lk)("i",{class:"import-icon"},null,-1),(0,o.Lk)("span",null,"Import Calendar",-1)])),(0,o.Lk)("button",{class:"quick-action-btn",onClick:a[12]||(a[12]=(...e)=>d.openAddEventModal&&d.openAddEventModal(...e))},a[84]||(a[84]=[(0,o.Lk)("i",{class:"event-icon"},null,-1),(0,o.Lk)("span",null,"Add Event",-1)])),(0,o.Lk)("button",{class:"quick-action-btn",disabled:!e.activeCalendar,onClick:a[13]||(a[13]=(...e)=>d.openDetailsModal&&d.openDetailsModal(...e))},a[85]||(a[85]=[(0,o.Lk)("i",{class:"details-icon"},null,-1),(0,o.Lk)("span",null,"Calendar Details",-1)]),8,ga)])]),(0,o.Lk)("div",ka,[a[90]||(a[90]=(0,o.Lk)("div",{class:"section-header"},[(0,o.Lk)("h3",null,"Statistics")],-1)),(0,o.Lk)("div",fa,[(0,o.Lk)("div",wa,[(0,o.Lk)("div",Ea,(0,n.v_)(e.allEvents.length),1),a[87]||(a[87]=(0,o.Lk)("div",{class:"stat-label"},"Total Events",-1))]),(0,o.Lk)("div",ya,[(0,o.Lk)("div",La,(0,n.v_)(d.upcomingEventsCount),1),a[88]||(a[88]=(0,o.Lk)("div",{class:"stat-label"},"Upcoming",-1))]),(0,o.Lk)("div",ba,[(0,o.Lk)("div",Ma,(0,n.v_)(e.calendars.length),1),a[89]||(a[89]=(0,o.Lk)("div",{class:"stat-label"},"Calendars",-1))])])])],2),(0,o.Lk)("main",Ia,[(0,o.Lk)("div",Da,[(0,o.Lk)("div",Pa,[(0,o.Lk)("h2",null,(0,n.v_)(e.activeCalendarId===e.defaultCalendarId?"Home Calendar":e.activeCalendar?.name||"Calendar"),1),(0,o.Lk)("p",Ta,(0,n.v_)(d.formatCurrentDate()),1)]),(0,o.Lk)("div",Ua,[(0,o.Lk)("div",Sa,[(0,o.Lk)("button",{class:(0,n.C4)(["view-button",{active:"month"===i.currentView}]),onClick:a[14]||(a[14]=e=>d.setCalendarView("month"))}," Month ",2),(0,o.Lk)("button",{class:(0,n.C4)(["view-button",{active:"week"===i.currentView}]),onClick:a[15]||(a[15]=e=>d.setCalendarView("week"))}," Week ",2),(0,o.Lk)("button",{class:(0,n.C4)(["view-button",{active:"day"===i.currentView}]),onClick:a[16]||(a[16]=e=>d.setCalendarView("day"))}," Day ",2)]),(0,o.Lk)("button",{class:"primary-button",onClick:a[17]||(a[17]=(...e)=>d.openAddEventModal&&d.openAddEventModal(...e))},a[91]||(a[91]=[(0,o.Lk)("i",{class:"plus-icon"},null,-1),(0,o.Lk)("span",null,"Add Event",-1)]))])]),(0,o.Lk)("div",Va,[e.activeCalendarId===e.defaultCalendarId?((0,o.uX)(),(0,o.Wv)(u,{key:0,userId:e.userId,"calendar-color":d.activeCalendarColor,"current-view":i.currentView,ref:"homeCalendarRef"},null,8,["userId","calendar-color","current-view"])):e.activeCalendarId&&e.activeCalendar?((0,o.uX)(),(0,o.Wv)(h,{key:1,userId:e.userId,calendarId:e.activeCalendarId,"calendar-color":d.activeCalendarColor,"calendar-name":e.activeCalendar?.name||"My Calendar","current-view":i.currentView,ref:"personalCalendarRef"},null,8,["userId","calendarId","calendar-color","calendar-name","current-view"])):((0,o.uX)(),(0,o.CE)("div",Fa,a[92]||(a[92]=[(0,o.Lk)("div",{class:"loading-spinner"},null,-1),(0,o.Lk)("p",null,"Loading your calendar...",-1)])))]),(0,o.Lk)("div",Na,[(0,o.Lk)("div",Ga,[(0,o.Lk)("div",xa,[a[94]||(a[94]=(0,o.Lk)("h3",null,"Upcoming Events",-1)),(0,o.Lk)("button",{class:"widget-action",onClick:a[18]||(a[18]=(...e)=>d.refreshEvents&&d.refreshEvents(...e))},a[93]||(a[93]=[(0,o.Lk)("i",{class:"refresh-icon"},null,-1)]))]),(0,o.Lk)("div",Xa,[d.upcomingEvents.length>0?((0,o.uX)(),(0,o.CE)("div",Ra,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.upcomingEvents,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.eventId,class:"event-item"},[(0,o.Lk)("div",Qa,(0,n.v_)(d.formatEventTime(e)),1),(0,o.Lk)("div",Ba,[(0,o.Lk)("div",Ya,(0,n.v_)(e.title),1),(0,o.Lk)("div",qa,(0,n.v_)(d.getCalendarName(e.calendarId)),1)])])))),128))])):((0,o.uX)(),(0,o.CE)("div",Oa,a[95]||(a[95]=[(0,o.Lk)("div",{class:"empty-icon"},null,-1),(0,o.Lk)("p",null,'No upcoming events. Click "Add Event" to create one.',-1)])))])]),(0,o.Lk)("div",$a,[(0,o.Lk)("div",_a,[a[96]||(a[96]=(0,o.Lk)("h3",null,"Weather",-1)),(0,o.Lk)("div",Wa,(0,n.v_)(i.locationLabel),1)]),i.weatherError?((0,o.uX)(),(0,o.CE)("div",et,a[98]||(a[98]=[(0,o.Lk)("p",{class:"empty-state"},"Couldn't load weather for your location.",-1)]))):((0,o.uX)(),(0,o.CE)("div",Ka,[i.weatherCurrent?((0,o.uX)(),(0,o.CE)("div",Ha,[(0,o.Lk)("div",{class:(0,n.C4)(["weather-icon",d.iconClass(i.weatherCurrent.icon)])},null,2),(0,o.Lk)("div",ja,(0,n.v_)(Math.round(i.weatherCurrent.temp))+"°"+(0,n.v_)(d.unitSymbol),1),(0,o.Lk)("div",Ja,(0,n.v_)(i.weatherCurrent.desc),1)])):(0,o.Q3)("",!0),i.weatherForecast.length?((0,o.uX)(),(0,o.CE)("div",za,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.weatherForecast,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"forecast-day",key:e.dt},[(0,o.Lk)("div",null,(0,n.v_)(i.dayjs.unix(e.dt).format("ddd").toUpperCase()),1),(0,o.Lk)("div",{class:(0,n.C4)(["forecast-icon",d.iconClass(e.icon)])},null,2),(0,o.Lk)("div",null,(0,n.v_)(Math.round(e.temp.day))+"°",1)])))),128))])):((0,o.uX)(),(0,o.CE)("div",Za,a[97]||(a[97]=[(0,o.Lk)("div",{class:"loading-spinner"},null,-1),(0,o.Lk)("p",null,"Loading weather…",-1)])))]))])])])]),i.showImportModal?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-backdrop",onClick:a[25]||(a[25]=(0,s.D$)(((...e)=>d.handleImportModalBackdropClick&&d.handleImportModalBackdropClick(...e)),["self"]))},[(0,o.Lk)("div",at,[(0,o.Lk)("div",{class:"modal-header enhanced-header",style:(0,n.Tr)({backgroundColor:d.calColor(i.importSelectedColor)})},[a[99]||(a[99]=(0,o.Lk)("h3",null,"Import Internet Calendar",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[19]||(a[19]=(...e)=>d.closeImportModal&&d.closeImportModal(...e))},"×")],4),(0,o.Lk)("div",tt,[(0,o.Lk)("form",{onSubmit:a[24]||(a[24]=(0,s.D$)(((...e)=>d.importCalendar&&d.importCalendar(...e)),["prevent"])),class:"enhanced-form"},[(0,o.Lk)("div",st,[a[100]||(a[100]=(0,o.Lk)("label",{for:"importCalURL"},"iCal URL",-1)),(0,o.bo)((0,o.Lk)("input",{id:"importCalURL","onUpdate:modelValue":a[20]||(a[20]=e=>i.importCalURL=e),type:"url",placeholder:"Enter the iCal feed URL",class:"form-control enhanced-input",required:""},null,512),[[s.Jo,i.importCalURL]])]),(0,o.Lk)("div",ot,[a[101]||(a[101]=(0,o.Lk)("label",{for:"importCalName"},"Calendar Name",-1)),(0,o.bo)((0,o.Lk)("input",{id:"importCalName","onUpdate:modelValue":a[21]||(a[21]=e=>i.importCalName=e),type:"text",placeholder:"Optional: Name for the imported calendar",class:"form-control enhanced-input"},null,512),[[s.Jo,i.importCalName]])]),(0,o.Lk)("div",nt,[a[103]||(a[103]=(0,o.Lk)("label",{for:"importCalColor"},"Choose a Color",-1)),(0,o.Lk)("div",lt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.availableColors,(e=>((0,o.uX)(),(0,o.CE)("label",{key:e.value,style:(0,n.Tr)({backgroundColor:d.calColor(e.value)}),class:(0,n.C4)(["color-option",{selected:e.value===i.importSelectedColor}])},[(0,o.bo)((0,o.Lk)("input",{type:"radio",name:"importCalendarColor",value:e.value,"onUpdate:modelValue":a[22]||(a[22]=e=>i.importSelectedColor=e),required:""},null,8,rt),[[s.XL,i.importSelectedColor]]),a[102]||(a[102]=(0,o.Lk)("span",{class:"color-circle"},null,-1))],6)))),128))])]),(0,o.Lk)("div",it,[(0,o.Lk)("button",{type:"submit",class:"btn-submit enhanced-submit",style:(0,n.Tr)({backgroundColor:d.calColor(i.importSelectedColor)}),disabled:i.isImporting},[i.isImporting?((0,o.uX)(),(0,o.CE)("span",ct,a[104]||(a[104]=[(0,o.Lk)("i",{class:"spinner"},null,-1),(0,o.eW)(" Importing... ")]))):((0,o.uX)(),(0,o.CE)("span",ut," Import Calendar "))],12,dt),(0,o.Lk)("button",{type:"button",class:"btn-cancel enhanced-cancel",onClick:a[23]||(a[23]=(...e)=>d.closeImportModal&&d.closeImportModal(...e)),disabled:i.isImporting}," Cancel ",8,ht)])],32)])])])):(0,o.Q3)("",!0),i.showCreateModal?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"modal-backdrop",onClick:a[31]||(a[31]=(0,s.D$)(((...e)=>d.closeCreateModal&&d.closeCreateModal(...e)),["self"]))},[(0,o.Lk)("div",mt,[(0,o.Lk)("div",{class:"modal-header enhanced-header",style:(0,n.Tr)({backgroundColor:d.calColor(i.selectedColor)})},[a[105]||(a[105]=(0,o.Lk)("h3",null,"Create New Personal Calendar",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[26]||(a[26]=(...e)=>d.closeCreateModal&&d.closeCreateModal(...e))},"×")],4),(0,o.Lk)("div",pt,[(0,o.Lk)("form",{onSubmit:a[30]||(a[30]=(0,s.D$)(((...e)=>d.createNewCalendar&&d.createNewCalendar(...e)),["prevent"])),class:"enhanced-form"},[(0,o.Lk)("div",At,[a[106]||(a[106]=(0,o.Lk)("label",{for:"calendarName"},"Calendar Name",-1)),(0,o.bo)((0,o.Lk)("input",{id:"calendarName","onUpdate:modelValue":a[27]||(a[27]=e=>i.newCalendarName=e),placeholder:"Enter calendar name",class:"form-control enhanced-input",required:""},null,512),[[s.Jo,i.newCalendarName]])]),(0,o.Lk)("div",vt,[a[108]||(a[108]=(0,o.Lk)("label",{for:"calendarColor"},"Choose a Color",-1)),(0,o.Lk)("div",Ct,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.availableColors,(e=>((0,o.uX)(),(0,o.CE)("label",{key:e.value,style:(0,n.Tr)({backgroundColor:d.calColor(e.value)}),class:(0,n.C4)(["color-option",{selected:e.value===i.selectedColor}])},[(0,o.bo)((0,o.Lk)("input",{type:"radio",name:"calendarColor",value:e.value,"onUpdate:modelValue":a[28]||(a[28]=e=>i.selectedColor=e),required:""},null,8,gt),[[s.XL,i.selectedColor]]),a[107]||(a[107]=(0,o.Lk)("span",{class:"color-circle"},null,-1))],6)))),128))])]),(0,o.Lk)("div",kt,[(0,o.Lk)("button",{type:"submit",class:"btn-submit enhanced-submit",style:(0,n.Tr)({backgroundColor:d.calColor(i.selectedColor)})}," Create Calendar ",4),(0,o.Lk)("button",{type:"button",class:"btn-cancel enhanced-cancel",onClick:a[29]||(a[29]=(...e)=>d.closeCreateModal&&d.closeCreateModal(...e))}," Cancel ")])],32)])])])):(0,o.Q3)("",!0),i.showCreateGroupModal?((0,o.uX)(),(0,o.CE)("div",{key:2,class:"modal-backdrop",onClick:a[40]||(a[40]=(0,s.D$)(((...e)=>d.closeCreateGroupModal&&d.closeCreateGroupModal(...e)),["self"]))},[(0,o.Lk)("div",ft,[(0,o.Lk)("div",{class:"modal-header enhanced-header",style:(0,n.Tr)({backgroundColor:d.calColor(i.groupSelectedColor)})},[a[109]||(a[109]=(0,o.Lk)("h3",null,"Create New Group Calendar",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[32]||(a[32]=(...e)=>d.closeCreateGroupModal&&d.closeCreateGroupModal(...e))},"×")],4),(0,o.Lk)("div",wt,[(0,o.Lk)("form",{onSubmit:a[39]||(a[39]=(0,s.D$)(((...e)=>d.createNewGroupCalendar&&d.createNewGroupCalendar(...e)),["prevent"])),class:"enhanced-form"},[(0,o.Lk)("div",Et,[a[110]||(a[110]=(0,o.Lk)("label",{for:"groupCalName"},"Calendar Name",-1)),(0,o.bo)((0,o.Lk)("input",{id:"groupCalName","onUpdate:modelValue":a[33]||(a[33]=e=>i.groupCalendarName=e),placeholder:"Enter calendar name",class:"form-control enhanced-input",required:""},null,512),[[s.Jo,i.groupCalendarName]])]),(0,o.Lk)("div",yt,[a[112]||(a[112]=(0,o.Lk)("label",{for:"groupCalColor"},"Choose a Color",-1)),(0,o.Lk)("div",Lt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.availableColors,(e=>((0,o.uX)(),(0,o.CE)("label",{key:e.value,style:(0,n.Tr)({backgroundColor:d.calColor(e.value)}),class:(0,n.C4)(["color-option",{selected:i.groupSelectedColor===e.value}])},[(0,o.bo)((0,o.Lk)("input",{type:"radio",name:"groupCalendarColor",value:e.value,"onUpdate:modelValue":a[34]||(a[34]=e=>i.groupSelectedColor=e),required:""},null,8,bt),[[s.XL,i.groupSelectedColor]]),a[111]||(a[111]=(0,o.Lk)("span",{class:"color-circle"},null,-1))],6)))),128))])]),(0,o.Lk)("div",Mt,[a[113]||(a[113]=(0,o.Lk)("label",{for:"memberUsername"},"Add Members",-1)),(0,o.Lk)("div",It,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.groupMembers,((e,a)=>((0,o.uX)(),(0,o.CE)("div",{key:a,class:"chip enhanced-chip",style:(0,n.Tr)({backgroundColor:d.calColor(i.groupSelectedColor)})},[(0,o.eW)((0,n.v_)(e.username)+" ",1),(0,o.Lk)("span",{class:"chip-close",onClick:e=>d.removeMember(a)},"×",8,Dt)],4)))),128))]),(0,o.Lk)("div",Pt,[(0,o.bo)((0,o.Lk)("input",{id:"memberUsername","onUpdate:modelValue":a[35]||(a[35]=e=>i.memberUsername=e),onKeyup:a[36]||(a[36]=(0,s.jR)((0,s.D$)(((...e)=>d.handleAddMember&&d.handleAddMember(...e)),["prevent"]),["enter"])),placeholder:"Type username and press Enter",class:"form-control enhanced-input"},null,544),[[s.Jo,i.memberUsername]]),(0,o.Lk)("button",{type:"button",class:"add-member-btn enhanced-add-btn",onClick:a[37]||(a[37]=(...e)=>d.handleAddMember&&d.handleAddMember(...e)),style:(0,n.Tr)({backgroundColor:d.calColor(i.groupSelectedColor)})}," Add ",4)]),a[114]||(a[114]=(0,o.Lk)("p",{class:"help-text"},"Max 4 additional members (5 total with you).",-1))]),(0,o.Lk)("div",Tt,[(0,o.Lk)("button",{type:"submit",class:"btn-submit enhanced-submit",style:(0,n.Tr)({backgroundColor:d.calColor(i.groupSelectedColor)})}," Create Group Calendar ",4),(0,o.Lk)("button",{type:"button",class:"btn-cancel enhanced-cancel",onClick:a[38]||(a[38]=(...e)=>d.closeCreateGroupModal&&d.closeCreateGroupModal(...e))}," Cancel ")])],32)])])])):(0,o.Q3)("",!0),i.showEditPersonalCalendarModal?((0,o.uX)(),(0,o.CE)("div",{key:3,class:"modal-backdrop",onClick:a[46]||(a[46]=(0,s.D$)(((...e)=>d.handleEditModalBackdropClick&&d.handleEditModalBackdropClick(...e)),["self"]))},[(0,o.Lk)("div",Ut,[(0,o.Lk)("div",{class:"modal-header enhanced-header",style:(0,n.Tr)({backgroundColor:d.calColor(i.editPersonalCalendarColor)})},[a[115]||(a[115]=(0,o.Lk)("h3",null,"Edit Personal Calendar",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[41]||(a[41]=(...e)=>d.handleCloseEditModal&&d.handleCloseEditModal(...e))},"×")],4),(0,o.Lk)("div",St,[(0,o.Lk)("form",{onSubmit:a[45]||(a[45]=(0,s.D$)(((...e)=>d.editPersonalCalendar&&d.editPersonalCalendar(...e)),["prevent"])),class:"enhanced-form"},[(0,o.Lk)("div",Vt,[a[116]||(a[116]=(0,o.Lk)("label",{for:"editPersonalCalendarName"},"Calendar Name",-1)),(0,o.bo)((0,o.Lk)("input",{id:"editPersonalCalendarName","onUpdate:modelValue":a[42]||(a[42]=e=>i.editPersonalCalendarName=e),placeholder:"Enter calendar name",class:"form-control enhanced-input",required:""},null,512),[[s.Jo,i.editPersonalCalendarName]])]),(0,o.Lk)("div",Ft,[a[118]||(a[118]=(0,o.Lk)("label",{for:"editPersonalCalendarColor"},"Calendar Color",-1)),(0,o.Lk)("div",Nt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.availableColors,(e=>((0,o.uX)(),(0,o.CE)("label",{key:e.value,style:(0,n.Tr)({backgroundColor:d.calColor(e.value)}),class:(0,n.C4)(["color-option",{selected:i.editPersonalCalendarColor===e.value}])},[(0,o.bo)((0,o.Lk)("input",{type:"radio",name:"editPersonalCalendarColor",value:e.value,"onUpdate:modelValue":a[43]||(a[43]=e=>i.editPersonalCalendarColor=e),required:""},null,8,Gt),[[s.XL,i.editPersonalCalendarColor]]),a[117]||(a[117]=(0,o.Lk)("span",{class:"color-circle"},null,-1))],6)))),128))])]),(0,o.Lk)("div",xt,[(0,o.Lk)("button",{type:"submit",class:"btn-submit enhanced-submit",style:(0,n.Tr)({backgroundColor:d.calColor(i.editPersonalCalendarColor)})}," Save Changes ",4),(0,o.Lk)("button",{type:"button",class:"btn-cancel enhanced-cancel",onClick:a[44]||(a[44]=(...e)=>d.handleCloseEditModal&&d.handleCloseEditModal(...e))}," Cancel ")])],32)])]),i.showDiscardConfirmation?((0,o.uX)(),(0,o.Wv)(m,{key:0,visible:i.showDiscardConfirmation,title:"Discard Changes?",message:"You have unsaved changes. Do you want to discard them?",confirmText:"Discard",cancelText:"Keep Editing",onConfirm:d.discardEditChanges,onCancel:d.cancelDiscard},null,8,["visible","onConfirm","onCancel"])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),i.showDetailsModal&&e.activeCalendar?((0,o.uX)(),(0,o.CE)("div",{key:4,class:"modal-backdrop",onClick:a[58]||(a[58]=(0,s.D$)(((...e)=>d.closeDetailsModal&&d.closeDetailsModal(...e)),["self"]))},[(0,o.Lk)("div",Xt,[(0,o.Lk)("div",Rt,[a[119]||(a[119]=(0,o.Lk)("h3",null,"Calendar Details",-1)),(0,o.Lk)("button",{class:"close-button",onClick:a[47]||(a[47]=(...e)=>d.closeDetailsModal&&d.closeDetailsModal(...e))},"×")]),(0,o.Lk)("div",Qt,[(0,o.Lk)("div",{class:"calendar-detail-header",style:(0,n.Tr)({backgroundColor:d.calColor(e.activeCalendar.color)})},[(0,o.Lk)("h2",null,(0,n.v_)(e.activeCalendar?.name),1),(0,o.Lk)("div",Bt,[(0,o.Lk)("div",Yt,(0,n.v_)(e.activeCalendar?.isGroup?"Group Calendar":"Personal Calendar"),1),(0,o.Lk)("div",qt,"Created by "+(0,n.v_)(d.getUsername(e.activeCalendar?.ownerId)),1)])],4),(0,o.Lk)("div",Ot,[(0,o.Lk)("div",$t,[(0,o.Lk)("div",_t,[a[121]||(a[121]=(0,o.Lk)("div",{class:"stat-icon events-icon"},null,-1)),(0,o.Lk)("div",Wt,[(0,o.Lk)("div",Kt,(0,n.v_)(d.getCalendarEventCount(e.activeCalendar.calendarId)),1),a[120]||(a[120]=(0,o.Lk)("div",{class:"stat-label"},"Events",-1))])]),e.activeCalendar?.isGroup?((0,o.uX)(),(0,o.CE)("div",Ht,[a[123]||(a[123]=(0,o.Lk)("div",{class:"stat-icon members-icon"},null,-1)),(0,o.Lk)("div",jt,[(0,o.Lk)("div",Jt,(0,n.v_)(e.activeCalendar.memberUsernames?.length||0),1),a[122]||(a[122]=(0,o.Lk)("div",{class:"stat-label"},"Members",-1))])])):(0,o.Q3)("",!0),(0,o.Lk)("div",zt,[a[125]||(a[125]=(0,o.Lk)("div",{class:"stat-icon date-icon"},null,-1)),(0,o.Lk)("div",Zt,[(0,o.Lk)("div",es,(0,n.v_)(d.formatDateShort(new Date)),1),a[124]||(a[124]=(0,o.Lk)("div",{class:"stat-label"},"Last Updated",-1))])])]),e.activeCalendar?.isGroup?((0,o.uX)(),(0,o.CE)("div",as,[a[128]||(a[128]=(0,o.Lk)("h4",{class:"section-title"},"Members",-1)),(0,o.Lk)("div",ts,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.activeCalendar.memberUsernames,((a,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"member-tile",style:(0,n.Tr)({backgroundColor:d.calColor(e.activeCalendar.color)})},[(0,o.Lk)("div",ss,(0,n.v_)(a.charAt(0).toUpperCase()),1),(0,o.Lk)("span",os,(0,n.v_)(a),1),d.isAdmin&&a!==d.getUsername(e.userId)?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"remove-user-btn",onClick:e=>d.removeUser(a),"aria-label":"Remove User"}," × ",8,ns)):(0,o.Q3)("",!0)],4)))),128))]),(0,o.Lk)("div",ls,[d.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"btn-add-user",onClick:a[48]||(a[48]=(...e)=>d.openAddUserModal&&d.openAddUserModal(...e))},a[126]||(a[126]=[(0,o.Lk)("i",{class:"user-add-icon"},null,-1),(0,o.Lk)("span",null,"Add Member",-1)]))):((0,o.uX)(),(0,o.CE)("button",{key:1,class:"btn-leave-calendar",onClick:a[49]||(a[49]=(...e)=>d.openLeaveCalendarModal&&d.openLeaveCalendarModal(...e))},a[127]||(a[127]=[(0,o.Lk)("i",{class:"leave-icon"},null,-1),(0,o.Lk)("span",null,"Leave Group Calendar",-1)])))])])):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",rs,[e.activeCalendar.isGroup?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:0,class:"btn-edit",onClick:a[50]||(a[50]=(...e)=>d.openEditPersonalCalendarModal&&d.openEditPersonalCalendarModal(...e))},a[129]||(a[129]=[(0,o.Lk)("i",{class:"edit-icon"},null,-1),(0,o.Lk)("span",null,"Edit Calendar",-1)]))),d.isAdmin||!e.activeCalendar.isGroup?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"btn-delete",onClick:a[51]||(a[51]=(...e)=>d.confirmDeleteCalendar&&d.confirmDeleteCalendar(...e)),disabled:i.isDeleting},[a[130]||(a[130]=(0,o.Lk)("i",{class:"delete-icon"},null,-1)),(0,o.Lk)("span",null,(0,n.v_)(i.isDeleting?"Deleting...":"Delete Calendar"),1)],8,is)):(0,o.Q3)("",!0),(0,o.Lk)("button",{class:"btn-cancel",onClick:a[52]||(a[52]=(...e)=>d.closeDetailsModal&&d.closeDetailsModal(...e))}," Close ")])]),i.showAddUserModal?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-backdrop",onClick:a[57]||(a[57]=(0,s.D$)(((...e)=>d.closeAddUserModal&&d.closeAddUserModal(...e)),["self"]))},[(0,o.Lk)("div",ds,[(0,o.Lk)("div",{class:"modal-header enhanced-header",style:(0,n.Tr)({backgroundColor:d.calColor(e.activeCalendar.color)})},[a[131]||(a[131]=(0,o.Lk)("h3",null,"Add User to Calendar",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[53]||(a[53]=(...e)=>d.closeAddUserModal&&d.closeAddUserModal(...e))},"×")],4),(0,o.Lk)("div",cs,[(0,o.Lk)("form",{onSubmit:a[56]||(a[56]=(0,s.D$)(((...e)=>d.addUser&&d.addUser(...e)),["prevent"])),class:"enhanced-form"},[(0,o.Lk)("div",us,[a[132]||(a[132]=(0,o.Lk)("label",{for:"addUser"},"Username",-1)),(0,o.bo)((0,o.Lk)("input",{id:"addUser","onUpdate:modelValue":a[54]||(a[54]=e=>i.newUserToAdd=e),required:"",placeholder:"Enter username",class:"form-control enhanced-input"},null,512),[[s.Jo,i.newUserToAdd]])]),a[133]||(a[133]=(0,o.Lk)("div",{class:"enhanced-field-info"},[(0,o.Lk)("i",{class:"icon icon-sm info-icon"}),(0,o.Lk)("p",null,"Add users to collaborate on this group calendar. They will be able to view and add events.")],-1)),(0,o.Lk)("div",hs,[(0,o.Lk)("button",{type:"submit",class:"btn-submit enhanced-submit",style:(0,n.Tr)({backgroundColor:d.calColor(e.activeCalendar.color)})}," Add User ",4),(0,o.Lk)("button",{type:"button",class:"btn-cancel enhanced-cancel",onClick:a[55]||(a[55]=(...e)=>d.closeAddUserModal&&d.closeAddUserModal(...e))}," Cancel ")])],32)])])])):(0,o.Q3)("",!0),(0,o.bF)(m,{visible:i.showLeaveCalendarModal,title:"Leave Group Calendar",message:"Are you sure you want to leave this group calendar? This action cannot be undone until an admin adds you back.",confirmText:"Leave",cancelText:"Cancel",onConfirm:d.leaveGroupCalendar,onCancel:d.closeLeaveCalendarModal},null,8,["visible","onConfirm","onCancel"]),(0,o.bF)(m,{visible:i.showConfirmDeleteModal,title:"Confirm Deletion",message:"Are you sure you want to delete this calendar? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",isLoading:i.isDeleting,onConfirm:d.deleteCalendar,onCancel:d.closeConfirmDeleteModal},null,8,["visible","isLoading","onConfirm","onCancel"])])):(0,o.Q3)("",!0),i.showEditFieldModal?((0,o.uX)(),(0,o.CE)("div",{key:5,class:"modal-backdrop",onClick:a[64]||(a[64]=(0,s.D$)(((...e)=>d.closeEditFieldModal&&d.closeEditFieldModal(...e)),["self"]))},[(0,o.Lk)("div",ms,[(0,o.Lk)("div",{class:"modal-header enhanced-header",style:(0,n.Tr)({backgroundColor:d.calColor("blue")})},[(0,o.Lk)("h3",null,(0,n.v_)("username"===i.editFieldName?"Edit Username":"email"===i.editFieldName?"Update Email":"Change Password"),1),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[59]||(a[59]=(...e)=>d.closeEditFieldModal&&d.closeEditFieldModal(...e))},"×")],4),(0,o.Lk)("div",ps,[(0,o.Lk)("form",{onSubmit:a[63]||(a[63]=(0,s.D$)(((...e)=>d.submitFieldEdit&&d.submitFieldEdit(...e)),["prevent"])),class:"enhanced-form"},[(0,o.Lk)("div",As,[a[134]||(a[134]=(0,o.Lk)("i",{class:"icon icon-sm info-icon"},null,-1)),(0,o.Lk)("p",null,(0,n.v_)("username"===i.editFieldName?"Choose a unique username that will be visible to other users.":"email"===i.editFieldName?"Make sure to enter a valid email address where you can receive notifications.":"Create a strong password with at least 8 characters including numbers and symbols."),1)]),(0,o.Lk)("div",vs,[(0,o.Lk)("label",{for:`edit-${i.editFieldName}`}," New "+(0,n.v_)("username"===i.editFieldName?"Username":"email"===i.editFieldName?"Email Address":"Password"),9,Cs),(0,o.bo)((0,o.Lk)("input",{id:`edit-${i.editFieldName}`,type:"password"===i.editFieldName?"password":"email"===i.editFieldName?"email":"text","onUpdate:modelValue":a[60]||(a[60]=e=>i.editFieldValue=e),placeholder:"username"===i.editFieldName?"Enter new username":"email"===i.editFieldName?"Enter new email address":"Enter new password",class:"form-control enhanced-input",required:""},null,8,gs),[[s.hp,i.editFieldValue]])]),"password"===i.editFieldName?((0,o.uX)(),(0,o.CE)("div",ks,[a[135]||(a[135]=(0,o.Lk)("label",{for:"confirm-password"},"Confirm New Password",-1)),(0,o.bo)((0,o.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":a[61]||(a[61]=e=>i.confirmPassword=e),placeholder:"Confirm new password",class:"form-control enhanced-input",required:""},null,512),[[s.Jo,i.confirmPassword]]),i.passwordMismatch?((0,o.uX)(),(0,o.CE)("p",fs," Passwords do not match ")):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),(0,o.Lk)("div",ws,[(0,o.Lk)("button",{type:"submit",class:"btn-submit enhanced-submit",style:(0,n.Tr)({backgroundColor:d.calColor("blue")})}," Save Changes ",4),(0,o.Lk)("button",{type:"button",class:"btn-cancel enhanced-cancel",onClick:a[62]||(a[62]=(...e)=>d.closeEditFieldModal&&d.closeEditFieldModal(...e))}," Cancel ")])],32)])])])):(0,o.Q3)("",!0)],6)}t(1454);var ys=t(1576),Ls=t.n(ys);t(3315);const bs={class:"calendar-header"},Ms={class:"calendar-tools"},Is={class:"current-date-display"},Ds={class:"view-actions"},Ps={class:"view-selector"},Ts={class:"calendar-body"},Us={class:"modal-content enhanced-modal"},Ss={class:"modal-body"},Vs={class:"form-group"},Fs={class:"form-row"},Ns={class:"form-group form-group-half"},Gs={class:"form-group form-group-half"},xs={class:"form-group"},Xs={class:"modal-footer enhanced-footer"},Rs={class:"modal-content enhanced-modal"},Qs={class:"modal-body"},Bs={class:"event-detail-title"},Ys={class:"event-detail-meta"},qs={class:"event-detail-item"},Os={key:0,class:"event-detail-item"},$s={key:0,class:"event-detail-description"},_s={key:1,class:"event-detail-description"},Ws={class:"modal-footer enhanced-footer"},Ks={class:"modal-content enhanced-modal"},Hs={class:"modal-body"},js={class:"form-group"},Js={class:"form-row"},zs={class:"form-group form-group-half"},Zs={class:"form-group form-group-half"},eo={class:"form-group"},ao={class:"modal-footer enhanced-footer"},to={class:"modal-content enhanced-modal"},so={class:"modal-header enhanced-header",style:{backgroundColor:"var(--color-danger)"}},oo={class:"modal-footer enhanced-footer"},no={class:"modal-content enhanced-modal"},lo={class:"modal-header enhanced-header",style:{backgroundColor:"var(--color-warning)"}},ro={class:"modal-body"},io={class:"warning-text enhanced-warning"},co={class:"modal-footer enhanced-footer"};function uo(e,a,t,l,r,i){const d=(0,o.g2)("FullCalendar");return(0,o.uX)(),(0,o.CE)("div",{class:(0,n.C4)(["calendar-container",`theme-${t.calendarColor}`,{"dark-mode":i.isDarkMode}])},[(0,o.Lk)("div",bs,[(0,o.Lk)("div",Ms,[(0,o.Lk)("button",{class:"calendar-nav-btn",onClick:a[0]||(a[0]=(...e)=>i.navigatePrevious&&i.navigatePrevious(...e)),"aria-label":"Previous"},a[36]||(a[36]=[(0,o.Lk)("i",{class:"icon icon-sm chevron-left-icon"},null,-1)])),(0,o.Lk)("div",Is,[(0,o.Lk)("span",null,(0,n.v_)(i.formattedViewDate),1)]),(0,o.Lk)("button",{class:"calendar-nav-btn",onClick:a[1]||(a[1]=(...e)=>i.navigateNext&&i.navigateNext(...e)),"aria-label":"Next"},a[37]||(a[37]=[(0,o.Lk)("i",{class:"icon icon-sm chevron-right-icon"},null,-1)])),(0,o.Lk)("button",{class:"btn-today",onClick:a[2]||(a[2]=(...e)=>i.goToToday&&i.goToToday(...e))},"Today")]),(0,o.Lk)("div",Ds,[(0,o.Lk)("div",Ps,[(0,o.Lk)("button",{class:(0,n.C4)(["view-button",{active:"dayGridMonth"===r.currentViewType}]),onClick:a[3]||(a[3]=e=>i.setView("dayGridMonth"))}," Month ",2),(0,o.Lk)("button",{class:(0,n.C4)(["view-button",{active:"timeGridWeek"===r.currentViewType}]),onClick:a[4]||(a[4]=e=>i.setView("timeGridWeek"))}," Week ",2),(0,o.Lk)("button",{class:(0,n.C4)(["view-button",{active:"timeGridDay"===r.currentViewType}]),onClick:a[5]||(a[5]=e=>i.setView("timeGridDay"))}," Day ",2)]),(0,o.Lk)("button",{class:"btn-add-event",onClick:a[6]||(a[6]=(...e)=>i.openAddEventModal&&i.openAddEventModal(...e))},a[38]||(a[38]=[(0,o.Lk)("i",{class:"icon icon-sm plus-icon"},null,-1),(0,o.Lk)("span",null,"Add Event",-1)]))])]),(0,o.Lk)("div",Ts,[(0,o.bF)(d,{ref:"fullCalendar",options:r.calendarOptions,class:"calendar"},null,8,["options"])]),r.showAddEventModal?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-backdrop",onClick:a[14]||(a[14]=(0,s.D$)(((...e)=>i.closeAddEventModal&&i.closeAddEventModal(...e)),["self"]))},[(0,o.Lk)("div",Us,[(0,o.Lk)("div",{class:"modal-header enhanced-header",style:(0,n.Tr)({backgroundColor:i.getEventColor()})},[a[39]||(a[39]=(0,o.Lk)("h3",null,"Create New Event",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[7]||(a[7]=(...e)=>i.closeAddEventModal&&i.closeAddEventModal(...e))},"×")],4),(0,o.Lk)("div",Ss,[(0,o.Lk)("form",{onSubmit:a[13]||(a[13]=(0,s.D$)(((...e)=>i.createEvent&&i.createEvent(...e)),["prevent"])),class:"enhanced-form"},[(0,o.Lk)("div",Vs,[a[40]||(a[40]=(0,o.Lk)("label",{for:"eventTitle"},"Event Title",-1)),(0,o.bo)((0,o.Lk)("input",{id:"eventTitle","onUpdate:modelValue":a[8]||(a[8]=e=>r.newEventTitle=e),placeholder:"Enter event title",class:"form-control enhanced-input",required:""},null,512),[[s.Jo,r.newEventTitle]])]),(0,o.Lk)("div",Fs,[(0,o.Lk)("div",Ns,[a[41]||(a[41]=(0,o.Lk)("label",{for:"startTime"},"Start Time",-1)),(0,o.bo)((0,o.Lk)("input",{id:"startTime",type:"datetime-local","onUpdate:modelValue":a[9]||(a[9]=e=>r.newEventStart=e),class:"form-control enhanced-input",required:""},null,512),[[s.Jo,r.newEventStart]])]),(0,o.Lk)("div",Gs,[a[42]||(a[42]=(0,o.Lk)("label",{for:"endTime"},"End Time",-1)),(0,o.bo)((0,o.Lk)("input",{id:"endTime",type:"datetime-local","onUpdate:modelValue":a[10]||(a[10]=e=>r.newEventEnd=e),class:"form-control enhanced-input",required:""},null,512),[[s.Jo,r.newEventEnd]])])]),(0,o.Lk)("div",xs,[a[43]||(a[43]=(0,o.Lk)("label",{for:"description"},"Description",-1)),(0,o.bo)((0,o.Lk)("textarea",{id:"description","onUpdate:modelValue":a[11]||(a[11]=e=>r.newEventDescription=e),placeholder:"Add event details",class:"form-control enhanced-textarea",rows:"3"},null,512),[[s.Jo,r.newEventDescription]])]),(0,o.Lk)("div",Xs,[(0,o.Lk)("button",{type:"submit",class:"btn-submit enhanced-submit",style:(0,n.Tr)({backgroundColor:i.getEventColor()})},a[44]||(a[44]=[(0,o.Lk)("i",{class:"icon icon-sm save-icon"},null,-1),(0,o.Lk)("span",null,"Create Event",-1)]),4),(0,o.Lk)("button",{type:"button",class:"btn-cancel enhanced-cancel",onClick:a[12]||(a[12]=(...e)=>i.closeAddEventModal&&i.closeAddEventModal(...e))},a[45]||(a[45]=[(0,o.Lk)("span",null,"Cancel",-1)]))])],32)])])])):(0,o.Q3)("",!0),r.showDetailModal&&r.selectedEvent?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"modal-backdrop",onClick:a[19]||(a[19]=(0,s.D$)(((...e)=>i.closeDetailModal&&i.closeDetailModal(...e)),["self"]))},[(0,o.Lk)("div",Rs,[(0,o.Lk)("div",{class:"modal-header enhanced-header",style:(0,n.Tr)({backgroundColor:i.getEventColor()})},[a[46]||(a[46]=(0,o.Lk)("h3",null,"Event Details",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[15]||(a[15]=(...e)=>i.closeDetailModal&&i.closeDetailModal(...e))},"×")],4),(0,o.Lk)("div",Qs,[(0,o.Lk)("div",{class:"event-detail-card",style:(0,n.Tr)({borderLeftColor:i.getEventColor()})},[(0,o.Lk)("h4",Bs,(0,n.v_)(r.selectedEvent.title),1),(0,o.Lk)("div",Ys,[(0,o.Lk)("div",qs,[a[47]||(a[47]=(0,o.Lk)("i",{class:"icon icon-sm calendar-icon"},null,-1)),(0,o.Lk)("span",null,(0,n.v_)(i.formatEventDateTime(r.selectedEvent.start)),1)]),r.selectedEvent.end?((0,o.uX)(),(0,o.CE)("div",Os,[a[48]||(a[48]=(0,o.Lk)("i",{class:"icon icon-sm clock-icon"},null,-1)),(0,o.Lk)("span",null,(0,n.v_)(i.formatEventDuration(r.selectedEvent.start,r.selectedEvent.end)),1)])):(0,o.Q3)("",!0)]),r.selectedEvent.extendedProps?.description?((0,o.uX)(),(0,o.CE)("div",$s,[a[49]||(a[49]=(0,o.Lk)("h5",null,"Description",-1)),(0,o.Lk)("p",null,(0,n.v_)(r.selectedEvent.extendedProps.description),1)])):((0,o.uX)(),(0,o.CE)("div",_s,a[50]||(a[50]=[(0,o.Lk)("p",{class:"no-description"},"No description provided",-1)])))],4)]),(0,o.Lk)("div",Ws,[(0,o.Lk)("button",{class:"btn-submit enhanced-submit",style:(0,n.Tr)({backgroundColor:i.getEventColor()}),onClick:a[16]||(a[16]=(...e)=>i.openEditModal&&i.openEditModal(...e))},a[51]||(a[51]=[(0,o.Lk)("i",{class:"icon icon-sm edit-icon"},null,-1),(0,o.Lk)("span",null,"Edit",-1)]),4),(0,o.Lk)("button",{class:"btn-danger enhanced-danger",onClick:a[17]||(a[17]=(...e)=>i.confirmDeleteEvent&&i.confirmDeleteEvent(...e))},a[52]||(a[52]=[(0,o.Lk)("i",{class:"icon icon-sm delete-icon"},null,-1),(0,o.Lk)("span",null,"Delete",-1)])),(0,o.Lk)("button",{class:"btn-cancel enhanced-cancel",onClick:a[18]||(a[18]=(...e)=>i.closeDetailModal&&i.closeDetailModal(...e))},a[53]||(a[53]=[(0,o.Lk)("span",null,"Close",-1)]))])])])):(0,o.Q3)("",!0),r.showEditModal&&r.selectedEvent?((0,o.uX)(),(0,o.CE)("div",{key:2,class:"modal-backdrop",onClick:a[27]||(a[27]=(0,s.D$)(((...e)=>i.closeEditModal&&i.closeEditModal(...e)),["self"]))},[(0,o.Lk)("div",Ks,[(0,o.Lk)("div",{class:"modal-header enhanced-header",style:(0,n.Tr)({backgroundColor:i.getEventColor()})},[a[54]||(a[54]=(0,o.Lk)("h3",null,"Edit Event",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[20]||(a[20]=(...e)=>i.closeEditModal&&i.closeEditModal(...e))},"×")],4),(0,o.Lk)("div",Hs,[(0,o.Lk)("form",{onSubmit:a[26]||(a[26]=(0,s.D$)(((...e)=>i.updateEvent&&i.updateEvent(...e)),["prevent"])),class:"enhanced-form"},[(0,o.Lk)("div",js,[a[55]||(a[55]=(0,o.Lk)("label",{for:"editTitle"},"Event Title",-1)),(0,o.bo)((0,o.Lk)("input",{id:"editTitle","onUpdate:modelValue":a[21]||(a[21]=e=>r.editEventTitle=e),placeholder:"Enter event title",class:"form-control enhanced-input",required:""},null,512),[[s.Jo,r.editEventTitle]])]),(0,o.Lk)("div",Js,[(0,o.Lk)("div",zs,[a[56]||(a[56]=(0,o.Lk)("label",{for:"editStart"},"Start Time",-1)),(0,o.bo)((0,o.Lk)("input",{id:"editStart",type:"datetime-local","onUpdate:modelValue":a[22]||(a[22]=e=>r.editEventStart=e),class:"form-control enhanced-input",required:""},null,512),[[s.Jo,r.editEventStart]])]),(0,o.Lk)("div",Zs,[a[57]||(a[57]=(0,o.Lk)("label",{for:"editEnd"},"End Time",-1)),(0,o.bo)((0,o.Lk)("input",{id:"editEnd",type:"datetime-local","onUpdate:modelValue":a[23]||(a[23]=e=>r.editEventEnd=e),class:"form-control enhanced-input",required:""},null,512),[[s.Jo,r.editEventEnd]])])]),(0,o.Lk)("div",eo,[a[58]||(a[58]=(0,o.Lk)("label",{for:"editDescription"},"Description",-1)),(0,o.bo)((0,o.Lk)("textarea",{id:"editDescription","onUpdate:modelValue":a[24]||(a[24]=e=>r.editEventDescription=e),placeholder:"Add event details",class:"form-control enhanced-textarea",rows:"3"},null,512),[[s.Jo,r.editEventDescription]])]),(0,o.Lk)("div",ao,[(0,o.Lk)("button",{type:"submit",class:"btn-submit enhanced-submit",style:(0,n.Tr)({backgroundColor:i.getEventColor()})},a[59]||(a[59]=[(0,o.Lk)("i",{class:"icon icon-sm save-icon"},null,-1),(0,o.Lk)("span",null,"Save Changes",-1)]),4),(0,o.Lk)("button",{type:"button",class:"btn-cancel enhanced-cancel",onClick:a[25]||(a[25]=(...e)=>i.closeEditModal&&i.closeEditModal(...e))},a[60]||(a[60]=[(0,o.Lk)("span",null,"Cancel",-1)]))])],32)])])])):(0,o.Q3)("",!0),r.showConfirmDeleteModal?((0,o.uX)(),(0,o.CE)("div",{key:3,class:"modal-backdrop",onClick:a[31]||(a[31]=(0,s.D$)(((...e)=>i.closeConfirmDeleteModal&&i.closeConfirmDeleteModal(...e)),["self"]))},[(0,o.Lk)("div",to,[(0,o.Lk)("div",so,[a[61]||(a[61]=(0,o.Lk)("h3",null,"Delete Event",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[28]||(a[28]=(...e)=>i.closeConfirmDeleteModal&&i.closeConfirmDeleteModal(...e))},"×")]),a[64]||(a[64]=(0,o.Lk)("div",{class:"modal-body"},[(0,o.Lk)("div",{class:"warning-text enhanced-warning"},[(0,o.Lk)("i",{class:"icon warning-icon"}),(0,o.Lk)("p",null,"Are you sure you want to delete this event? This action cannot be undone.")])],-1)),(0,o.Lk)("div",oo,[(0,o.Lk)("button",{class:"btn-danger enhanced-danger",onClick:a[29]||(a[29]=(...e)=>i.deleteEvent&&i.deleteEvent(...e))},a[62]||(a[62]=[(0,o.Lk)("span",null,"Delete",-1)])),(0,o.Lk)("button",{class:"btn-cancel enhanced-cancel",onClick:a[30]||(a[30]=(...e)=>i.closeConfirmDeleteModal&&i.closeConfirmDeleteModal(...e))},a[63]||(a[63]=[(0,o.Lk)("span",null,"Cancel",-1)]))])])])):(0,o.Q3)("",!0),r.showConflictModal?((0,o.uX)(),(0,o.CE)("div",{key:4,class:"modal-backdrop",onClick:a[35]||(a[35]=(0,s.D$)(((...e)=>i.closeConflictModal&&i.closeConflictModal(...e)),["self"]))},[(0,o.Lk)("div",no,[(0,o.Lk)("div",lo,[a[65]||(a[65]=(0,o.Lk)("h3",null,"Scheduling Conflict",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[32]||(a[32]=(...e)=>i.closeConflictModal&&i.closeConflictModal(...e))},"×")]),(0,o.Lk)("div",ro,[(0,o.Lk)("div",io,[a[66]||(a[66]=(0,o.Lk)("i",{class:"icon warning-icon"},null,-1)),(0,o.Lk)("p",null,(0,n.v_)(r.conflictMessage),1)])]),(0,o.Lk)("div",co,[(0,o.Lk)("button",{class:"btn-submit enhanced-submit",style:{backgroundColor:"var(--color-warning)"},onClick:a[33]||(a[33]=(...e)=>i.handleConflictProceed&&i.handleConflictProceed(...e))},a[67]||(a[67]=[(0,o.Lk)("span",null,"Schedule Anyway",-1)])),(0,o.Lk)("button",{class:"btn-cancel enhanced-cancel",onClick:a[34]||(a[34]=(...e)=>i.closeConflictModal&&i.closeConflictModal(...e))},a[68]||(a[68]=[(0,o.Lk)("span",null,"Cancel",-1)]))])])])):(0,o.Q3)("",!0)],2)}var ho=t(3535),mo=t(5753),po=t(2447),Ao=t(8439),vo=t(5248),Co={name:"PersonalCalendar",components:{FullCalendar:ho.A},props:{userId:{type:String,required:!0},calendarId:{type:String,required:!0},calendarName:{type:String,default:"My Calendar"},calendarColor:{type:String,default:"blue"},currentView:{type:String,default:"month"}},data(){return{calendarOptions:{plugins:[mo.A,po.A,Ao.Ay,vo.A],initialView:"dayGridMonth",headerToolbar:!1,dayMaxEvents:!0,selectable:!0,editable:!1,events:[],slotMinTime:"06:00:00",slotMaxTime:"22:00:00",allDaySlot:!0,height:"100%",eventClick:this.handleEventClick,dateClick:this.handleDateClick,select:this.handleSelect,noEventsContent:this.renderNoEventsContent,eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"short"},eventContent:this.renderEventContent},currentViewType:"dayGridMonth",loading:!1,error:null,showAddEventModal:!1,newEventTitle:"",newEventStart:"",newEventEnd:"",newEventDescription:"",showDetailModal:!1,selectedEvent:null,showEditModal:!1,editEventTitle:"",editEventStart:"",editEventEnd:"",editEventDescription:"",showConfirmDeleteModal:!1,showConflictModal:!1,conflictMessage:""}},computed:{isDarkMode(){return document.body.classList.contains("dark-mode")},formattedViewDate(){if(!this.$refs.fullCalendar)return"";const e=this.$refs.fullCalendar.getApi(),a=e.getDate(),t=e.view.type;if("dayGridMonth"===t)return Ls()(a).format("MMMM YYYY");if("timeGridWeek"===t){const a=Ls()(e.view.activeStart),t=Ls()(e.view.activeEnd).subtract(1,"day");return a.month()===t.month()?`${a.format("MMM D")} - ${t.format("D, YYYY")}`:a.year()===t.year()?`${a.format("MMM D")} - ${t.format("MMM D, YYYY")}`:`${a.format("MMM D, YYYY")} - ${t.format("MMM D, YYYY")}`}return"timeGridDay"===t?Ls()(a).format("dddd, MMMM D, YYYY"):Ls()(a).format("MMMM YYYY")}},watch:{calendarId(){this.fetchEvents()},currentView(e){this.setViewFromProp(e)}},mounted(){this.fetchEvents(),this.setViewFromProp(this.currentView)},methods:{...(0,r.i0)(["notify"]),setViewFromProp(e){if(!e)return;const a={month:"dayGridMonth",week:"timeGridWeek",day:"timeGridDay"};a[e]&&this.setView(a[e])},getEventColor(){const e={pink:"#ec4899",green:"#10b981",yellow:"#f59e0b",red:"#ef4444",purple:"#8b5cf6",orange:"#f97316",blue:"#4361ee"};return e[this.calendarColor]||"#4361ee"},async fetchEvents(){this.loading=!0;try{const e=await k.A.get(y(`/calendar/${this.calendarId}/events`),{params:{userId:this.userId}}),a=e.data.events||[],t=a.map((e=>({id:e.eventId,title:e.title,start:e.startTime,end:e.endTime,allDay:this.isAllDayEvent(e.startTime,e.endTime),extendedProps:{description:e.description},backgroundColor:this.getEventColor(),borderColor:this.getEventColor()})));this.calendarOptions={...this.calendarOptions,events:t}}catch(e){this.error=e?.response?.data?.error||"Failed to load events.",this.notify({type:"error",message:this.error})}finally{this.loading=!1}},isAllDayEvent(e,a){if(!e||!a)return!1;const t=Ls()(e),s=Ls()(a);return 0===t.hour()&&0===t.minute()&&0===s.hour()&&0===s.minute()&&s.diff(t,"day")>=1},toLocalDateTime(e){if(!e)return"";const a="string"===typeof e?new Date(e):e,t=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getDate()).padStart(2,"0"),n=String(a.getHours()).padStart(2,"0"),l=String(a.getMinutes()).padStart(2,"0");return`${t}-${s}-${o}T${n}:${l}`},formatEventDateTime(e){return e?Ls()(e).format("ddd, MMM D, YYYY • h:mm A"):""},formatEventDuration(e,a){if(!e||!a)return"";const t=Ls()(e),s=Ls()(a),o=s.diff(t,"minute");if(o<60)return`${o} minutes`;{const e=Math.floor(o/60),a=o%60;return 0===a?`${e} hour${e>1?"s":""}`:`${e} hour${e>1?"s":""} ${a} min`}},renderEventContent(e){return{html:`\n          <div class="fc-event-custom-content">\n            <div class="fc-event-time">${e.timeText}</div>\n            <div class="fc-event-title">${e.event.title}</div>\n          </div>\n        `}},renderNoEventsContent(){return{html:'\n          <div class="fc-no-events">\n            <div class="fc-no-events-icon"></div>\n            <p>No events scheduled</p>\n            <button class="btn btn-primary btn-sm" onclick="document.querySelector(\'.btn-add-event\').click()">\n              Add Event\n            </button>\n          </div>\n        '}},navigatePrevious(){if(this.$refs.fullCalendar){const e=this.$refs.fullCalendar.getApi();e.prev()}},navigateNext(){if(this.$refs.fullCalendar){const e=this.$refs.fullCalendar.getApi();e.next()}},goToToday(){if(this.$refs.fullCalendar){const e=this.$refs.fullCalendar.getApi();e.today()}},setView(e){if(this.currentViewType=e,this.$refs.fullCalendar){const a=this.$refs.fullCalendar.getApi();a.changeView(e)}const a={dayGridMonth:"month",timeGridWeek:"week",timeGridDay:"day"};this.$emit("view-change",a[e]||e)},handleDateClick(e){this.openAddEventModal();const a=new Date(e.date);"dayGridMonth"===e.view.type&&a.setHours(9,0,0),this.newEventStart=this.toLocalDateTime(a);const t=new Date(a);t.setHours(t.getHours()+1),this.newEventEnd=this.toLocalDateTime(t)},handleSelect(e){this.openAddEventModal(),this.newEventStart=this.toLocalDateTime(e.start),this.newEventEnd=this.toLocalDateTime(e.end)},handleEventClick(e){this.selectedEvent=e.event,this.showDetailModal=!0},openAddEventModal(){if(this.showAddEventModal=!0,this.newEventTitle="",this.newEventDescription="",!this.newEventStart){const e=new Date;e.setMinutes(15*Math.ceil(e.getMinutes()/15)),this.newEventStart=this.toLocalDateTime(e);const a=new Date(e);a.setHours(a.getHours()+1),this.newEventEnd=this.toLocalDateTime(a)}},closeAddEventModal(){this.showAddEventModal=!1,this.newEventTitle="",this.newEventStart="",this.newEventEnd="",this.newEventDescription=""},async createEvent(){try{const e={userId:this.userId,title:this.newEventTitle,startTime:this.newEventStart,endTime:this.newEventEnd,description:this.newEventDescription};await b.addEvent(this.calendarId,e),this.notify({type:"success",message:"Event created successfully."}),this.closeAddEventModal(),this.fetchEvents()}catch(e){if(e.response&&409===e.response.status)this.conflictMessage=e.response.data.error||"There is a scheduling conflict.",this.showConflictModal=!0;else{const a=e?.response?.data?.error||"Failed to create event.";this.notify({type:"error",message:a})}}},closeDetailModal(){this.showDetailModal=!1,this.selectedEvent=null},openEditModal(){this.selectedEvent&&(this.showDetailModal=!1,this.editEventTitle=this.selectedEvent.title,this.editEventStart=this.toLocalDateTime(this.selectedEvent.start),this.editEventEnd=this.toLocalDateTime(this.selectedEvent.end),this.editEventDescription=this.selectedEvent.extendedProps?.description||"",this.showEditModal=!0)},closeEditModal(){this.showEditModal=!1,this.selectedEvent=null,this.editEventTitle="",this.editEventStart="",this.editEventEnd="",this.editEventDescription=""},async updateEvent(){if(this.selectedEvent)try{const e=this.selectedEvent.id,a={userId:this.userId,title:this.editEventTitle,startTime:this.editEventStart,endTime:this.editEventEnd,description:this.editEventDescription};await k.A.put(y(`/calendar/${this.calendarId}/event/${e}/update`),a),this.fetchEvents(),this.closeEditModal(),this.notify({type:"success",message:"Event updated successfully."})}catch(e){const a=e?.response?.data?.error||"Failed to update event.";this.notify({type:"error",message:a})}},confirmDeleteEvent(){this.showConfirmDeleteModal=!0},closeConfirmDeleteModal(){this.showConfirmDeleteModal=!1},async deleteEvent(){if(this.selectedEvent)try{const e=this.selectedEvent.id;await k.A.delete(y(`/calendar/${this.calendarId}/event/${e}/delete`),{data:{userId:this.userId}}),this.fetchEvents(),this.closeDetailModal(),this.closeConfirmDeleteModal(),this.notify({type:"success",message:"Event deleted successfully."})}catch(e){const a=e?.response?.data?.error||"Failed to delete event.";this.notify({type:"error",message:a})}},closeConflictModal(){this.showConflictModal=!1,this.conflictMessage=""},async handleConflictProceed(){try{const e={userId:this.userId,title:this.newEventTitle,startTime:this.newEventStart,endTime:this.newEventEnd,description:this.newEventDescription};await b.addEvent(this.calendarId,e,!0),this.notify({type:"success",message:"Event created successfully despite conflict."}),this.closeAddEventModal(),this.closeConflictModal(),this.fetchEvents()}catch(e){const a=e?.response?.data?.error||"Failed to create event.";this.notify({type:"error",message:a})}}}};const go=(0,h.A)(Co,[["render",uo],["__scopeId","data-v-c6e5e472"]]);var ko=go;const fo={class:"calendar-header"},wo={class:"calendar-tools"},Eo={class:"current-date-display"},yo={class:"view-actions"},Lo={class:"view-selector"},bo={class:"calendar-summary"},Mo={class:"summary-card"},Io={class:"summary-info"},Do={class:"summary-value"},Po={class:"summary-card"},To={class:"summary-info"},Uo={class:"summary-value"},So={class:"summary-card"},Vo={class:"summary-info"},Fo={class:"summary-value"},No={class:"summary-card"},Go={class:"summary-info"},xo={class:"summary-value"},Xo={class:"calendar-body"},Ro={class:"modal-content enhanced-modal"},Qo={class:"modal-body"},Bo={class:"form-group"},Yo={class:"select-wrapper"},qo=["value"],Oo={class:"form-group"},$o={class:"form-row"},_o={class:"form-group form-group-half"},Wo={class:"form-group form-group-half"},Ko={class:"form-group"},Ho={class:"modal-footer enhanced-footer"},jo=["disabled"],Jo={class:"modal-content enhanced-modal"},zo={class:"modal-body"},Zo={class:"event-detail-title"},en={class:"event-detail-meta"},an={class:"event-detail-item"},tn={key:0,class:"event-detail-item"},sn={key:1,class:"event-detail-item"},on={key:0,class:"event-detail-description"},nn={key:1,class:"event-detail-description"},ln={class:"modal-footer enhanced-footer"},rn={class:"modal-content enhanced-modal"},dn={class:"modal-header enhanced-header",style:{backgroundColor:"var(--color-warning)"}},cn={class:"modal-body"},un={class:"warning-text"},hn={class:"modal-footer enhanced-footer"};function mn(e,a,t,l,r,i){const d=(0,o.g2)("FullCalendar");return(0,o.uX)(),(0,o.CE)("div",{class:(0,n.C4)(["calendar-container",`theme-${t.calendarColor}`,{"dark-mode":i.isDarkMode}])},[(0,o.Lk)("div",fo,[(0,o.Lk)("div",wo,[(0,o.Lk)("button",{class:"calendar-nav-btn",onClick:a[0]||(a[0]=(...e)=>i.navigatePrevious&&i.navigatePrevious(...e)),"aria-label":"Previous"},a[23]||(a[23]=[(0,o.Lk)("i",{class:"icon icon-sm chevron-left-icon"},null,-1)])),(0,o.Lk)("div",Eo,[(0,o.Lk)("span",null,(0,n.v_)(i.formattedViewDate),1)]),(0,o.Lk)("button",{class:"calendar-nav-btn",onClick:a[1]||(a[1]=(...e)=>i.navigateNext&&i.navigateNext(...e)),"aria-label":"Next"},a[24]||(a[24]=[(0,o.Lk)("i",{class:"icon icon-sm chevron-right-icon"},null,-1)])),(0,o.Lk)("button",{class:"btn-today",onClick:a[2]||(a[2]=(...e)=>i.goToToday&&i.goToToday(...e))},"Today")]),(0,o.Lk)("div",yo,[(0,o.Lk)("div",Lo,[(0,o.Lk)("button",{class:(0,n.C4)(["view-button",{active:"dayGridMonth"===r.currentViewType}]),onClick:a[3]||(a[3]=e=>i.setView("dayGridMonth"))}," Month ",2),(0,o.Lk)("button",{class:(0,n.C4)(["view-button",{active:"timeGridWeek"===r.currentViewType}]),onClick:a[4]||(a[4]=e=>i.setView("timeGridWeek"))}," Week ",2),(0,o.Lk)("button",{class:(0,n.C4)(["view-button",{active:"timeGridDay"===r.currentViewType}]),onClick:a[5]||(a[5]=e=>i.setView("timeGridDay"))}," Day ",2)]),(0,o.Lk)("button",{class:"btn-add-event",onClick:a[6]||(a[6]=(...e)=>i.openAddEventModal&&i.openAddEventModal(...e))},a[25]||(a[25]=[(0,o.Lk)("i",{class:"icon icon-sm plus-icon"},null,-1),(0,o.Lk)("span",null,"Add Event",-1)]))])]),(0,o.Lk)("div",bo,[(0,o.Lk)("div",Mo,[a[27]||(a[27]=(0,o.Lk)("div",{class:"summary-icon"},[(0,o.Lk)("i",{class:"icon calendar-icon"})],-1)),(0,o.Lk)("div",Io,[(0,o.Lk)("div",Do,(0,n.v_)(e.allEvents.length),1),a[26]||(a[26]=(0,o.Lk)("div",{class:"summary-label"},"Total Events",-1))])]),(0,o.Lk)("div",Po,[a[29]||(a[29]=(0,o.Lk)("div",{class:"summary-icon"},[(0,o.Lk)("i",{class:"icon calendar-icon"})],-1)),(0,o.Lk)("div",To,[(0,o.Lk)("div",Uo,(0,n.v_)(i.todaysEvents.length),1),a[28]||(a[28]=(0,o.Lk)("div",{class:"summary-label"},"Today's Events",-1))])]),(0,o.Lk)("div",So,[a[31]||(a[31]=(0,o.Lk)("div",{class:"summary-icon"},[(0,o.Lk)("i",{class:"icon clock-icon"})],-1)),(0,o.Lk)("div",Vo,[(0,o.Lk)("div",Fo,(0,n.v_)(i.upcomingEvents.length),1),a[30]||(a[30]=(0,o.Lk)("div",{class:"summary-label"},"Upcoming",-1))])]),(0,o.Lk)("div",No,[a[33]||(a[33]=(0,o.Lk)("div",{class:"summary-icon"},[(0,o.Lk)("i",{class:"icon calendar-icon"})],-1)),(0,o.Lk)("div",Go,[(0,o.Lk)("div",xo,(0,n.v_)(e.calendars.length),1),a[32]||(a[32]=(0,o.Lk)("div",{class:"summary-label"},"Calendars",-1))])])]),(0,o.Lk)("div",Xo,[(0,o.bF)(d,{ref:"fullCalendar",options:r.calendarOptions,class:"calendar"},null,8,["options"])]),r.showAddEventModal?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-backdrop",onClick:a[15]||(a[15]=(0,s.D$)(((...e)=>i.closeAddEventModal&&i.closeAddEventModal(...e)),["self"]))},[(0,o.Lk)("div",Ro,[(0,o.Lk)("div",{class:"modal-header enhanced-header",style:(0,n.Tr)({backgroundColor:i.getCalendarColor()})},[a[34]||(a[34]=(0,o.Lk)("h3",null,"Create New Event",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[7]||(a[7]=(...e)=>i.closeAddEventModal&&i.closeAddEventModal(...e))},"×")],4),(0,o.Lk)("div",Qo,[(0,o.Lk)("form",{onSubmit:a[14]||(a[14]=(0,s.D$)(((...e)=>i.createEvent&&i.createEvent(...e)),["prevent"])),class:"enhanced-form"},[(0,o.Lk)("div",Bo,[a[37]||(a[37]=(0,o.Lk)("label",{for:"chooseCalendar"},"Select Calendar",-1)),(0,o.Lk)("div",Yo,[(0,o.bo)((0,o.Lk)("select",{id:"chooseCalendar","onUpdate:modelValue":a[8]||(a[8]=e=>r.chosenCalendarId=e),class:"form-control form-select enhanced-input",required:""},[a[35]||(a[35]=(0,o.Lk)("option",{disabled:"",value:""},"Select a calendar",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.personalCalendars,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.calendarId,value:e.calendarId,style:(0,n.Tr)({"--cal-indicator":i.calColor(e.color)}),class:"calendar-option"},(0,n.v_)(e.name),13,qo)))),128))],512),[[s.u1,r.chosenCalendarId]]),a[36]||(a[36]=(0,o.Lk)("div",{class:"select-arrow"},null,-1))])]),(0,o.Lk)("div",Oo,[a[38]||(a[38]=(0,o.Lk)("label",{for:"eventTitle"},"Event Title",-1)),(0,o.bo)((0,o.Lk)("input",{id:"eventTitle","onUpdate:modelValue":a[9]||(a[9]=e=>r.newEventTitle=e),placeholder:"Enter event title",class:"form-control enhanced-input",required:""},null,512),[[s.Jo,r.newEventTitle]])]),(0,o.Lk)("div",$o,[(0,o.Lk)("div",_o,[a[39]||(a[39]=(0,o.Lk)("label",{for:"startTime"},"Start Time",-1)),(0,o.bo)((0,o.Lk)("input",{id:"startTime",type:"datetime-local","onUpdate:modelValue":a[10]||(a[10]=e=>r.newEventStart=e),class:"form-control enhanced-input",required:""},null,512),[[s.Jo,r.newEventStart]])]),(0,o.Lk)("div",Wo,[a[40]||(a[40]=(0,o.Lk)("label",{for:"endTime"},"End Time",-1)),(0,o.bo)((0,o.Lk)("input",{id:"endTime",type:"datetime-local","onUpdate:modelValue":a[11]||(a[11]=e=>r.newEventEnd=e),class:"form-control enhanced-input",required:""},null,512),[[s.Jo,r.newEventEnd]])])]),(0,o.Lk)("div",Ko,[a[41]||(a[41]=(0,o.Lk)("label",{for:"description"},"Description",-1)),(0,o.bo)((0,o.Lk)("textarea",{id:"description","onUpdate:modelValue":a[12]||(a[12]=e=>r.newEventDescription=e),placeholder:"Add event details",class:"form-control enhanced-textarea",rows:"3"},null,512),[[s.Jo,r.newEventDescription]])]),a[44]||(a[44]=(0,o.Lk)("div",{class:"info-text enhanced-info"},[(0,o.Lk)("i",{class:"icon icon-sm info-icon"}),(0,o.Lk)("p",null,"This will add the event to your selected personal calendar. Group calendars can be accessed from the sidebar.")],-1)),(0,o.Lk)("div",Ho,[(0,o.Lk)("button",{type:"submit",class:"btn-submit enhanced-submit",disabled:!r.chosenCalendarId,style:(0,n.Tr)({backgroundColor:i.getCalendarColor()})},a[42]||(a[42]=[(0,o.Lk)("i",{class:"icon icon-sm save-icon"},null,-1),(0,o.Lk)("span",null,"Create Event",-1)]),12,jo),(0,o.Lk)("button",{type:"button",class:"btn-cancel enhanced-cancel",onClick:a[13]||(a[13]=(...e)=>i.closeAddEventModal&&i.closeAddEventModal(...e))},a[43]||(a[43]=[(0,o.Lk)("span",null,"Cancel",-1)]))])],32)])])])):(0,o.Q3)("",!0),r.showDetailModal&&r.selectedEvent?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"modal-backdrop",onClick:a[18]||(a[18]=(0,s.D$)(((...e)=>i.closeDetailModal&&i.closeDetailModal(...e)),["self"]))},[(0,o.Lk)("div",Jo,[(0,o.Lk)("div",{class:"modal-header enhanced-header",style:(0,n.Tr)({backgroundColor:i.getEventColor(r.selectedEvent)})},[a[45]||(a[45]=(0,o.Lk)("h3",null,"Event Details",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[16]||(a[16]=(...e)=>i.closeDetailModal&&i.closeDetailModal(...e))},"×")],4),(0,o.Lk)("div",zo,[(0,o.Lk)("div",{class:"event-detail-card",style:(0,n.Tr)({borderLeftColor:i.getEventColor(r.selectedEvent)})},[(0,o.Lk)("h4",Zo,(0,n.v_)(r.selectedEvent.title),1),(0,o.Lk)("div",en,[(0,o.Lk)("div",an,[a[46]||(a[46]=(0,o.Lk)("i",{class:"icon icon-sm calendar-icon"},null,-1)),(0,o.Lk)("span",null,(0,n.v_)(i.formatEventDateTime(r.selectedEvent.start)),1)]),r.selectedEvent.end?((0,o.uX)(),(0,o.CE)("div",tn,[a[47]||(a[47]=(0,o.Lk)("i",{class:"icon icon-sm clock-icon"},null,-1)),(0,o.Lk)("span",null,(0,n.v_)(i.formatEventDuration(r.selectedEvent.start,r.selectedEvent.end)),1)])):(0,o.Q3)("",!0),r.selectedEvent.extendedProps?.calendarId?((0,o.uX)(),(0,o.CE)("div",sn,[a[48]||(a[48]=(0,o.Lk)("i",{class:"icon icon-sm calendar-icon"},null,-1)),(0,o.Lk)("span",null,(0,n.v_)(i.getCalendarName(r.selectedEvent.extendedProps.calendarId)),1)])):(0,o.Q3)("",!0)]),r.selectedEvent.extendedProps?.description?((0,o.uX)(),(0,o.CE)("div",on,[a[49]||(a[49]=(0,o.Lk)("h5",null,"Description",-1)),(0,o.Lk)("p",null,(0,n.v_)(r.selectedEvent.extendedProps.description),1)])):((0,o.uX)(),(0,o.CE)("div",nn,a[50]||(a[50]=[(0,o.Lk)("p",{class:"no-description"},"No description provided",-1)])))],4)]),(0,o.Lk)("div",ln,[(0,o.Lk)("button",{class:"btn-cancel enhanced-cancel",onClick:a[17]||(a[17]=(...e)=>i.closeDetailModal&&i.closeDetailModal(...e))},a[51]||(a[51]=[(0,o.Lk)("span",null,"Close",-1)]))])])])):(0,o.Q3)("",!0),r.showConflictModal?((0,o.uX)(),(0,o.CE)("div",{key:2,class:"modal-backdrop",onClick:a[22]||(a[22]=(0,s.D$)(((...e)=>i.closeConflictModal&&i.closeConflictModal(...e)),["self"]))},[(0,o.Lk)("div",rn,[(0,o.Lk)("div",dn,[a[52]||(a[52]=(0,o.Lk)("h3",null,"Scheduling Conflict",-1)),(0,o.Lk)("button",{class:"close-button enhanced-close",onClick:a[19]||(a[19]=(...e)=>i.closeConflictModal&&i.closeConflictModal(...e))},"×")]),(0,o.Lk)("div",cn,[(0,o.Lk)("div",un,[a[53]||(a[53]=(0,o.Lk)("i",{class:"icon warning-icon"},null,-1)),(0,o.Lk)("p",null,(0,n.v_)(r.conflictMessage),1)])]),(0,o.Lk)("div",hn,[(0,o.Lk)("button",{class:"btn-submit enhanced-submit",style:{backgroundColor:"var(--color-warning)"},onClick:a[20]||(a[20]=(...e)=>i.handleConflictProceed&&i.handleConflictProceed(...e))},a[54]||(a[54]=[(0,o.Lk)("span",null,"Schedule Anyway",-1)])),(0,o.Lk)("button",{class:"btn-cancel enhanced-cancel",onClick:a[21]||(a[21]=(...e)=>i.closeConflictModal&&i.closeConflictModal(...e))},a[55]||(a[55]=[(0,o.Lk)("span",null,"Cancel",-1)]))])])])):(0,o.Q3)("",!0)],2)}var pn={name:"HomeCalendar",components:{FullCalendar:ho.A},props:{userId:{type:String,required:!0},calendarColor:{type:String,default:"blue"},currentView:{type:String,default:"month"}},data(){return{calendarOptions:{plugins:[mo.A,po.A,Ao.Ay,vo.A],initialView:"dayGridMonth",headerToolbar:!1,dayMaxEvents:!0,selectable:!0,editable:!1,events:[],slotMinTime:"06:00:00",slotMaxTime:"22:00:00",allDaySlot:!0,height:"100%",eventClick:this.handleEventClick,dateClick:this.handleDateClick,select:this.handleSelect,noEventsContent:this.renderNoEventsContent,eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"short"},eventContent:this.renderEventContent,eventDidMount:this.eventDidMount},currentViewType:"dayGridMonth",loading:!1,showAddEventModal:!1,chosenCalendarId:"",newEventTitle:"",newEventStart:"",newEventEnd:"",newEventDescription:"",showDetailModal:!1,selectedEvent:null,showConflictModal:!1,conflictMessage:""}},computed:{...(0,r.L8)(["allEvents","calendars"]),isDarkMode(){return document.body.classList.contains("dark-mode")},formattedViewDate(){if(!this.$refs.fullCalendar)return"";const e=this.$refs.fullCalendar.getApi(),a=e.getDate(),t=e.view.type;if("dayGridMonth"===t)return Ls()(a).format("MMMM YYYY");if("timeGridWeek"===t){const a=Ls()(e.view.activeStart),t=Ls()(e.view.activeEnd).subtract(1,"day");return a.month()===t.month()?`${a.format("MMM D")} - ${t.format("D, YYYY")}`:a.year()===t.year()?`${a.format("MMM D")} - ${t.format("MMM D, YYYY")}`:`${a.format("MMM D, YYYY")} - ${t.format("MMM D, YYYY")}`}return"timeGridDay"===t?Ls()(a).format("dddd, MMMM D, YYYY"):Ls()(a).format("MMMM YYYY")},todaysEvents(){const e=Ls()().startOf("day"),a=e.add(1,"day");return this.allEvents.filter((t=>{const s=Ls()(t.startTime);return s.isAfter(e)&&s.isBefore(a)}))},upcomingEvents(){const e=Ls()(),a=e.add(7,"day");return this.allEvents.filter((t=>{const s=Ls()(t.startTime);return s.isAfter(e)&&s.isBefore(a)}))},personalCalendars(){return this.calendars.filter((e=>!e.isGroup))},groupCalendars(){return this.calendars.filter((e=>e.isGroup))}},watch:{allEvents:{handler(e){this.updateCalendarEvents(e)},deep:!0},currentView(e){this.setViewFromProp(e)},personalCalendars:{handler(e){e.length>0&&!this.chosenCalendarId&&(this.chosenCalendarId=e[0].calendarId)},immediate:!0}},mounted(){this.fetchAllEvents(),this.setViewFromProp(this.currentView)},methods:{...(0,r.i0)(["notify","fetchAllEvents"]),setViewFromProp(e){if(!e)return;const a={month:"dayGridMonth",week:"timeGridWeek",day:"timeGridDay"};a[e]&&this.setView(a[e])},updateCalendarEvents(e){const a=e.map((e=>{const a=this.getCalendarById(e.calendarId),t=this.calColor(a?a.color:this.calendarColor);return{id:e.eventId,title:e.title,start:e.startTime,end:e.endTime,allDay:this.isAllDayEvent(e.startTime,e.endTime),extendedProps:{description:e.description,calendarId:e.calendarId,calendarName:a?a.name:"Unknown Calendar"},backgroundColor:t,borderColor:t,textColor:this.getContrastColor(t),classNames:[a?`cal-${a.color}`:`cal-${this.calendarColor}`]}}));this.calendarOptions={...this.calendarOptions,events:a}},isAllDayEvent(e,a){if(!e||!a)return!1;const t=Ls()(e),s=Ls()(a);return 0===t.hour()&&0===t.minute()&&0===s.hour()&&0===s.minute()&&s.diff(t,"day")>=1},getContrastColor(e){if(!e||!e.startsWith("#"))return"#FFFFFF";const a=parseInt(e.slice(1,3),16),t=parseInt(e.slice(3,5),16),s=parseInt(e.slice(5,7),16),o=(299*a+587*t+114*s)/1e3;return o>128?"#000000":"#FFFFFF"},calColor(e){const a={pink:"#ec4899",green:"#10b981",yellow:"#f59e0b",red:"#ef4444",purple:"#8b5cf6",orange:"#f97316",blue:"#4361ee"};return a[e]||"#4361ee"},getCalendarColor(){if(this.chosenCalendarId){const e=this.getCalendarById(this.chosenCalendarId);if(e)return this.calColor(e.color)}return this.calColor(this.calendarColor)},getEventColor(e){if(!e)return this.calColor(this.calendarColor);if(e.backgroundColor)return e.backgroundColor;const a=this.getCalendarById(e.extendedProps?.calendarId);return this.calColor(a?a.color:this.calendarColor)},getCalendarById(e){return this.calendars.find((a=>a.calendarId===e))},getCalendarName(e){const a=this.getCalendarById(e);return a?a.name:"Unknown Calendar"},formatEventDateTime(e){return e?Ls()(e).format("ddd, MMM D, YYYY • h:mm A"):""},formatEventDuration(e,a){if(!e||!a)return"";const t=Ls()(e),s=Ls()(a),o=s.diff(t,"minute");if(o<60)return`${o} minutes`;{const e=Math.floor(o/60),a=o%60;return 0===a?`${e} hour${e>1?"s":""}`:`${e} hour${e>1?"s":""} ${a} min`}},toLocalDateTime(e){if(!e)return"";const a="string"===typeof e?new Date(e):e,t=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getDate()).padStart(2,"0"),n=String(a.getHours()).padStart(2,"0"),l=String(a.getMinutes()).padStart(2,"0");return`${t}-${s}-${o}T${n}:${l}`},renderEventContent(e){const a="dayGridMonth"===e.view.type&&e.event.extendedProps?.calendarName?`<div class="fc-event-calendar">${e.event.extendedProps.calendarName}</div>`:"";return{html:`\n          <div class="fc-event-custom-content">\n            <div class="fc-event-time">${e.timeText}</div>\n            <div class="fc-event-title">${e.event.title}</div>\n            ${a}\n          </div>\n        `}},eventDidMount(e){const a=this.getCalendarById(e.event.extendedProps?.calendarId),t=a?a.name:"Unknown Calendar";e.el.setAttribute("title",`${e.event.title} (${t})`)},renderNoEventsContent(){return{html:'\n          <div class="fc-no-events">\n            <div class="fc-no-events-icon"></div>\n            <p>No events scheduled</p>\n            <button class="btn btn-primary btn-sm" onclick="document.querySelector(\'.btn-add-event\').click()">\n              Add Event\n            </button>\n          </div>\n        '}},navigatePrevious(){if(this.$refs.fullCalendar){const e=this.$refs.fullCalendar.getApi();e.prev()}},navigateNext(){if(this.$refs.fullCalendar){const e=this.$refs.fullCalendar.getApi();e.next()}},goToToday(){if(this.$refs.fullCalendar){const e=this.$refs.fullCalendar.getApi();e.today()}},setView(e){if(this.currentViewType=e,this.$refs.fullCalendar){const a=this.$refs.fullCalendar.getApi();a.changeView(e)}const a={dayGridMonth:"month",timeGridWeek:"week",timeGridDay:"day"};this.$emit("view-change",a[e]||e)},handleDateClick(e){this.openAddEventModal();const a=new Date(e.date);"dayGridMonth"===e.view.type&&a.setHours(9,0,0),this.newEventStart=this.toLocalDateTime(a);const t=new Date(a);t.setHours(t.getHours()+1),this.newEventEnd=this.toLocalDateTime(t)},handleSelect(e){this.openAddEventModal(),this.newEventStart=this.toLocalDateTime(e.start),this.newEventEnd=this.toLocalDateTime(e.end)},handleEventClick(e){this.selectedEvent=e.event,this.showDetailModal=!0},openAddEventModal(){if(this.showAddEventModal=!0,this.newEventTitle="",this.newEventDescription="",!this.newEventStart){const e=new Date;e.setMinutes(15*Math.ceil(e.getMinutes()/15)),this.newEventStart=this.toLocalDateTime(e);const a=new Date(e);a.setHours(a.getHours()+1),this.newEventEnd=this.toLocalDateTime(a)}this.personalCalendars.length>0&&!this.chosenCalendarId&&(this.chosenCalendarId=this.personalCalendars[0].calendarId)},closeAddEventModal(){this.showAddEventModal=!1,this.newEventTitle="",this.newEventStart="",this.newEventEnd="",this.newEventDescription=""},async createEvent(){if(this.chosenCalendarId)try{const e={userId:this.userId,title:this.newEventTitle,startTime:this.newEventStart,endTime:this.newEventEnd,description:this.newEventDescription};await b.addEvent(this.chosenCalendarId,e),this.notify({type:"success",message:"Event created successfully."}),this.closeAddEventModal(),await this.fetchAllEvents()}catch(e){if(e.response&&409===e.response.status)this.conflictMessage=e.response.data.error||"There is a scheduling conflict.",this.showConflictModal=!0;else{const a=e?.response?.data?.error||"Failed to create event.";this.notify({type:"error",message:a})}}else this.notify({type:"error",message:"Please select a calendar."})},closeDetailModal(){this.showDetailModal=!1,this.selectedEvent=null},closeConflictModal(){this.showConflictModal=!1,this.conflictMessage=""},async handleConflictProceed(){try{const e={userId:this.userId,title:this.newEventTitle,startTime:this.newEventStart,endTime:this.newEventEnd,description:this.newEventDescription};await b.addEvent(this.chosenCalendarId,e,!0),this.notify({type:"success",message:"Event created successfully despite conflict."}),this.closeAddEventModal(),this.closeConflictModal(),await this.fetchAllEvents()}catch(e){const a=e?.response?.data?.error||"Failed to create event.";this.notify({type:"error",message:a})}}}};const An=(0,h.A)(pn,[["render",mn],["__scopeId","data-v-dcfd879c"]]);var vn=An;const Cn={key:0,class:"modal-container"},gn={class:"modal-content"},kn={class:"modal-header"},fn=["disabled"],wn={class:"modal-body"},En={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},yn={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Ln={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},bn={class:"modal-footer"},Mn=["disabled"],In=["disabled"],Dn={key:0,class:"loading-spinner"};function Pn(e,a,t,l,r,i){return(0,o.uX)(),(0,o.Wv)(s.eB,{name:"fade"},{default:(0,o.k6)((()=>[t.visible?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-backdrop",onClick:a[3]||(a[3]=(0,s.D$)(((...e)=>i.handleCancel&&i.handleCancel(...e)),["self"])),"aria-modal":"true",role:"dialog"},[(0,o.bF)(s.eB,{name:"scale"},{default:(0,o.k6)((()=>[t.visible?((0,o.uX)(),(0,o.CE)("div",Cn,[(0,o.Lk)("div",gn,[(0,o.Lk)("div",kn,[(0,o.Lk)("h3",null,(0,n.v_)(t.title),1),(0,o.Lk)("button",{class:"close-button",onClick:a[0]||(a[0]=(...e)=>i.handleCancel&&i.handleCancel(...e)),"aria-label":"Close",disabled:t.isLoading}," × ",8,fn)]),(0,o.Lk)("div",wn,[(0,o.Lk)("div",{class:(0,n.C4)(["modal-icon",{warning:i.isWarning,danger:i.isDanger}])},[i.isWarning?((0,o.uX)(),(0,o.CE)("svg",En,a[4]||(a[4]=[(0,o.Lk)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},null,-1),(0,o.Lk)("line",{x1:"12",y1:"9",x2:"12",y2:"13"},null,-1),(0,o.Lk)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"},null,-1)]))):i.isDanger?((0,o.uX)(),(0,o.CE)("svg",yn,a[5]||(a[5]=[(0,o.Lk)("circle",{cx:"12",cy:"12",r:"10"},null,-1),(0,o.Lk)("line",{x1:"15",y1:"9",x2:"9",y2:"15"},null,-1),(0,o.Lk)("line",{x1:"9",y1:"9",x2:"15",y2:"15"},null,-1)]))):((0,o.uX)(),(0,o.CE)("svg",Ln,a[6]||(a[6]=[(0,o.Lk)("circle",{cx:"12",cy:"12",r:"10"},null,-1),(0,o.Lk)("line",{x1:"12",y1:"8",x2:"12",y2:"12"},null,-1),(0,o.Lk)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"},null,-1)])))],2),(0,o.Lk)("p",null,(0,n.v_)(t.message),1)]),(0,o.Lk)("div",bn,[(0,o.Lk)("button",{class:"btn-cancel",onClick:a[1]||(a[1]=(...e)=>i.handleCancel&&i.handleCancel(...e)),"aria-label":"Cancel",disabled:t.isLoading},(0,n.v_)(t.cancelText),9,Mn),(0,o.Lk)("button",{ref:"confirmButton",class:(0,n.C4)(["btn-confirm",{"btn-danger":i.isDanger,"btn-warning":i.isWarning}]),onClick:a[2]||(a[2]=(...e)=>i.handleConfirm&&i.handleConfirm(...e)),"aria-label":"Confirm",disabled:t.isLoading},[t.isLoading?((0,o.uX)(),(0,o.CE)("div",Dn)):(0,o.Q3)("",!0),(0,o.Lk)("span",null,(0,n.v_)(t.confirmText),1)],10,In)])])])):(0,o.Q3)("",!0)])),_:1})])):(0,o.Q3)("",!0)])),_:1})}var Tn={name:"ConfirmationModal",props:{visible:{type:Boolean,required:!0},title:{type:String,default:"Confirm Action"},message:{type:String,default:"Are you sure you want to proceed?"},confirmText:{type:String,default:"Yes"},cancelText:{type:String,default:"No"},isLoading:{type:Boolean,default:!1},type:{type:String,default:"info",validator:e=>["info","warning","danger"].includes(e)}},emits:["confirm","cancel"],computed:{isWarning(){return"warning"===this.type},isDanger(){return"danger"===this.type}},watch:{visible(e){e?(document.body.style.overflow="hidden",this.$nextTick((()=>{this.$refs.confirmButton?.focus()}))):document.body.style.overflow=""}},methods:{handleConfirm(){this.isLoading||this.$emit("confirm")},handleCancel(){this.isLoading||this.$emit("cancel")}},beforeUnmount(){document.body.style.overflow=""}};const Un=(0,h.A)(Tn,[["render",Pn],["__scopeId","data-v-eee4a658"]]);var Sn=Un;function Vn(){const e=void 0;if(e)return e;const a="4ec25323a0c69cde2ea3885927ad12e7";return a||(console.warn("[Weather] OpenWeather API key missing."),"")}var Fn={name:"DashboardView",components:{PersonalCalendar:ko,HomeCalendar:vn,ConfirmationModal:Sn},data(){return{currentView:"month",showImportModal:!1,importCalURL:"",importCalName:"",importSelectedColor:"blue",isImporting:!1,weatherLoading:!0,weatherError:!1,weatherCurrent:null,weatherForecast:[],locationLabel:"—",unit:"en-US"===Intl.DateTimeFormat().resolvedOptions().locale?"imperial":"metric",isDeleting:!1,dayjs:Ls(),showCreateModal:!1,newCalendarName:"",selectedColor:"blue",showEditPersonalCalendarModal:!1,editPersonalCalendarName:"",editPersonalCalendarColor:"",initialEditPersonalCalendarName:"",initialEditPersonalCalendarColor:"",showDiscardConfirmation:!1,isCreating:!1,showAccountPanel:!1,currentUsername:"",currentEmail:"",showEditFieldModal:!1,editFieldName:"",editFieldValue:"",confirmPassword:"",passwordMismatch:!1,showCreateGroupModal:!1,groupCalendarName:"",groupSelectedColor:"blue",groupMembers:[],memberUsername:"",showDetailsModal:!1,showEditCalendarModal:!1,editCalendarName:"",editCalendarColor:"",showConfirmDeleteModal:!1,showAddUserModal:!1,newUserToAdd:"",showLeaveCalendarModal:!1,availableColors:[{name:"Pink",value:"pink"},{name:"Green",value:"green"},{name:"Yellow",value:"yellow"},{name:"Red",value:"red"},{name:"Purple",value:"purple"},{name:"Orange",value:"orange"},{name:"Blue",value:"blue"}],darkMode:"true"===localStorage.getItem("darkMode"),sidebarCollapsed:!1,moonIcon:t(5247),sunIcon:t(7391)}},computed:{...(0,r.L8)(["userId","defaultCalendarId","calendars","activeCalendarId","activeCalendar","allEvents"]),unitSymbol(){return"metric"===this.unit?"C":"F"},currentapUsername(){return this.$store.getters.currentUsername},currentapEmail(){return this.$store.getters.currentEmail},personalCalendars(){return this.calendars.filter((e=>!e.isGroup))},groupCalendars(){return this.calendars.filter((e=>e.isGroup))},userCalendars(){return this.calendars},activeCalendarColor(){return this.activeCalendar?this.activeCalendar.color:"blue"},isAdmin(){return this.activeCalendar&&this.userId===this.activeCalendar.ownerId&&this.activeCalendar.isGroup},hasUnsavedChanges(){return this.editPersonalCalendarName!==this.initialEditPersonalCalendarName||this.editPersonalCalendarColor!==this.initialEditPersonalCalendarColor},upcomingEvents(){if(!this.allEvents||0===this.allEvents.length)return[];const e=new Date,a=new Date;return a.setDate(e.getDate()+7),this.allEvents.filter((t=>{const s=new Date(t.startTime);return s>=e&&s<=a})).sort(((e,a)=>new Date(e.startTime)-new Date(a.startTime))).slice(0,5)},upcomingEventsCount(){if(!this.allEvents||0===this.allEvents.length)return 0;const e=new Date,a=new Date;return a.setDate(e.getDate()+7),this.allEvents.filter((a=>{const t=new Date(a.startTime);return t>=e})).length}},mounted(){document.body.classList.toggle("dark-mode",this.darkMode),this.initWeather(),this.userId&&this.fetchCalendars(),document.addEventListener("click",this.handleClickOutside);const e=localStorage.getItem("calendarView");e&&["month","week","day"].includes(e)&&(this.currentView=e)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{...(0,r.i0)(["logout","notify","fetchCalendars","fetchAllEvents"]),toggleSidebar(){this.sidebarCollapsed=!this.sidebarCollapsed},calColor(e){const a={pink:"#e91e63",green:"#4caf50",yellow:"#ffc107",red:"#f44336",purple:"#9c27b0",orange:"#ff9800",blue:"#4361ee"};return a[e]||"#4361ee"},async initWeather(){try{const e=await this.getCoords();await this.fetchWeather(e)}catch(e){console.error(e),this.weatherError=!0}finally{this.weatherLoading=!1}},getCoords(){return new Promise(((e,a)=>{if(!navigator.geolocation)return a(new Error("no-geo"));navigator.geolocation.getCurrentPosition((a=>e({lat:a.coords.latitude,lon:a.coords.longitude})),(async()=>{try{const{data:a}=await k.A.get("https://ipapi.co/json/");e({lat:a.latitude,lon:a.longitude})}catch{a(new Error("geo-fail"))}}),{timeout:5e3})}))},async fetchWeather({lat:e,lon:a}){const t=Vn();if(!t)return void(this.weatherError=!0);const s=`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${a}&units=${this.unit}&appid=${t}`,{data:o}=await k.A.get(s);this.weatherCurrent={temp:o.main.temp,icon:o.weather[0].icon,desc:this.cap(o.weather[0].description)};const n=`https://api.openweathermap.org/data/2.5/forecast?lat=${e}&lon=${a}&units=${this.unit}&appid=${t}`,{data:l}=await k.A.get(n),r=l.list.filter((e=>e.dt_txt.includes("12:00:00"))).slice(1,4);this.weatherForecast=r.map((e=>({dt:e.dt,temp:{day:e.main.temp},icon:e.weather[0].icon}))),this.locationLabel=`${o.name}, ${o.sys.country}`},cap(e){return e.charAt(0).toUpperCase()+e.slice(1)},iconClass(e){const a={"01d":"sunny","01n":"sunny","02d":"cloudy","02n":"cloudy","03d":"cloudy","03n":"cloudy","04d":"cloudy","04n":"cloudy","09d":"rainy","09n":"rainy","10d":"rainy","10n":"rainy","11d":"rainy","11n":"rainy","13d":"snowy","13n":"snowy","50d":"cloudy","50n":"cloudy"};return a[e]||"cloudy"},closeEditCalendarModal(){this.showEditPersonalCalendarModal&&this.closeEditPersonalCalendarModal(),this.showEditGroupCalendarModal&&this.closeEditGroupCalendarModal()},setCalendarView(e){this.currentView=e,localStorage.setItem("calendarView",e);const a={month:"dayGridMonth",week:"timeGridWeek",day:"timeGridDay"},t=a[e];this.activeCalendarId===this.defaultCalendarId&&this.$refs.homeCalendarRef?this.$refs.homeCalendarRef.setView(t):this.$refs.personalCalendarRef&&this.$refs.personalCalendarRef.setView(t)},formatCurrentDate(){return Ls()().format("dddd, MMMM D, YYYY")},formatDateShort(e){return Ls()(e).format("MMM D, YYYY")},formatEventTime(e){const a=Ls()(e.startTime),t=Ls()().startOf("day"),s=t.add(1,"day");return a.isSame(t,"day")?`Today, ${a.format("h:mm A")}`:a.isSame(s,"day")?`Tomorrow, ${a.format("h:mm A")}`:a.format("MMM D, h:mm A")},getMemberCount(e){return e.isGroup?e.memberUsernames?.length||0:1},getCalendarName(e){const a=this.calendars.find((a=>a.calendarId===e));return a?a.name:"Unknown Calendar"},getCalendarEventCount(e){return this.allEvents.filter((a=>a.calendarId===e)).length},refreshEvents(){this.fetchAllEvents(),this.notify({type:"info",message:"Events refreshed."})},toggleAccountPanel(){this.showAccountPanel=!this.showAccountPanel},closeAccountPanel(){this.showAccountPanel=!1},handleClickOutside(e){const a=this.$refs.accountDropdown;a&&!a.contains(e.target)&&this.closeAccountPanel()},accountPanelGotoCalendar(e){this.setActiveCalendar(e),this.closeAccountPanel()},openImportModal(){this.showImportModal=!0,this.importCalURL="",this.importCalName="",this.importSelectedColor="blue"},closeImportModal(){this.showImportModal=!1},handleImportModalBackdropClick(){this.isImporting||this.closeImportModal()},validateURL(e){const a=new RegExp("^(https?:\\/\\/)((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%@_.~+&:]*)*(\\?[;&a-z\\d%@_.,~+&:=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!a.test(e)},async importCalendar(){if(this.validateURL(this.importCalURL)){this.isImporting=!0;try{const e=await b.importInternetCalendar(this.userId,this.importCalURL,this.importCalName||"",this.importSelectedColor||"blue");this.notify({type:"success",message:e.data.message||"Calendar imported successfully."}),this.closeImportModal(),await this.fetchCalendars()}catch(e){console.error("Error importing calendar:",e);const a=e?.response?.data?.error||"Failed to import calendar.";this.notify({type:"error",message:a})}finally{this.isImporting=!1}}else this.notify({type:"error",message:"Please enter a valid URL."})},setActiveCalendar(e){this.$store.commit("SET_ACTIVE_CALENDAR_ID",e),this.closeDetailsModal(),this.closeEditCalendarModal(),this.closeConfirmDeleteModal&&this.closeConfirmDeleteModal()},toggleDarkMode(){this.darkMode=!this.darkMode,document.body.classList.toggle("dark-mode",this.darkMode),localStorage.setItem("darkMode",this.darkMode),this.closeAccountPanel()},handleLogout(){this.logout(),this.$router.push("/")},openEditFieldModal(e){this.editFieldName=e,this.showEditFieldModal=!0,this.confirmPassword="",this.passwordMismatch=!1,this.editFieldValue="username"===e?this.currentapUsername:"email"===e?this.currentapEmail:"",this.closeAccountPanel()},closeEditFieldModal(){this.showEditFieldModal=!1,this.editFieldName="",this.editFieldValue="",this.confirmPassword="",this.passwordMismatch=!1},async submitFieldEdit(){if("password"===this.editFieldName&&this.editFieldValue!==this.confirmPassword)return void(this.passwordMismatch=!0);const e={};"username"===this.editFieldName?e.username=this.editFieldValue:"email"===this.editFieldName?e.email=this.editFieldValue:"password"===this.editFieldName&&(e.password=this.editFieldValue);try{await k.A.put(y(`/user/${this.userId}`),e),await this.$store.dispatch("fetchUserDoc"),this.notify({type:"success",message:"Profile updated successfully."}),this.closeEditFieldModal()}catch(a){console.error("Error updating field:",a);const e=a?.response?.data?.error||"Failed to update.";this.notify({type:"error",message:e})}},openCreateModal(){this.showCreateModal=!0,this.newCalendarName="",this.selectedColor="blue"},closeCreateModal(){this.showCreateModal=!1},async createNewCalendar(){try{await b.createPersonalCalendar(this.userId,this.newCalendarName,this.selectedColor),this.closeCreateModal(),await this.fetchCalendars(),this.notify({type:"success",message:"Personal calendar created successfully."})}catch(e){console.error("Error creating personal calendar:",e);const a=e?.response?.data?.error||"Failed to create personal calendar.";this.notify({type:"error",message:a})}},openCreateGroupModal(){this.showCreateGroupModal=!0,this.groupCalendarName="",this.groupSelectedColor="blue",this.groupMembers=[],this.memberUsername=""},closeCreateGroupModal(){this.showCreateGroupModal=!1},async handleAddMember(){const e=this.memberUsername.trim();if(e)if(this.groupMembers.length>=4)this.notify({type:"error",message:"Max 4 additional members allowed."});else if(this.groupMembers.find((a=>a.username.toLowerCase()===e.toLowerCase())))this.notify({type:"error",message:`User '${e}' already added.`});else try{const a=await b.validateUsername(e),t=a.data.userId;t&&(this.groupMembers.push({username:e,userId:t}),this.memberUsername="",this.notify({type:"success",message:`User '${e}' added.`}))}catch(a){a.response&&404===a.response.status?this.notify({type:"error",message:`User '${e}' does not exist.`}):(console.error("Error validating username:",a),this.notify({type:"error",message:"Failed to validate username. Please try again."}))}},removeMember(e){const a=this.groupMembers.splice(e,1)[0];this.notify({type:"info",message:`User '${a.username}' removed.`})},async createNewGroupCalendar(){try{const e=this.groupMembers.map((e=>e.username));await b.createGroupCalendar(this.userId,this.groupCalendarName,e,this.groupSelectedColor||"blue"),this.notify({type:"success",message:"Group calendar created successfully."}),this.closeCreateGroupModal(),await this.fetchCalendars()}catch(e){console.error("Error creating group calendar:",e);const a=e?.response?.data?.error||"Failed to create group calendar.";this.notify({type:"error",message:a})}},openDetailsModal(){this.activeCalendar&&(this.showDetailsModal=!0)},closeDetailsModal(){this.showDetailsModal=!1},openAddUserModal(){this.showAddUserModal=!0,this.newUserToAdd=""},closeAddUserModal(){this.showAddUserModal=!1,this.newUserToAdd=""},async addUser(){const e=this.newUserToAdd.trim();if(e)try{const a=await b.getUserId(e),t=a.data.userId;if(!t)return void this.notify({type:"error",message:`User '${e}' does not exist.`});await b.addUserToGroupCalendar(this.activeCalendar.calendarId,this.userId,t),this.notify({type:"success",message:`User '${e}' added to calendar.`}),this.closeAddUserModal(),await this.fetchCalendars(),this.closeDetailsModal()}catch(a){console.error("Error adding user:",a);const e=a?.response?.data?.error||"Failed to add user.";this.notify({type:"error",message:e})}else this.notify({type:"error",message:"Please enter a username."})},getUsername(e){if(this.activeCalendar&&this.activeCalendar.memberUsernames){const a=this.activeCalendar.members.indexOf(e);if(-1!==a&&this.activeCalendar.memberUsernames[a])return this.activeCalendar.memberUsernames[a]}return e===this.userId?this.currentapUsername||"You":e},async removeUser(e){try{const a=await this.fetchUserId(e);if(!a)return void this.notify({type:"error",message:`User '${e}' does not exist.`});await b.removeUserFromGroupCalendar(this.activeCalendar.calendarId,this.userId,a),this.notify({type:"success",message:`User '${e}' removed from calendar.`}),await this.fetchCalendars(),this.closeDetailsModal()}catch(a){console.error("Error removing user:",a);const e=a?.response?.data?.error||"Failed to remove user.";this.notify({type:"error",message:e})}},async fetchUserId(e){try{const a=await b.getUserId(e);return a.data.userId}catch(a){return console.error("Error fetching userId:",a),null}},openLeaveCalendarModal(){this.showLeaveCalendarModal=!0},closeLeaveCalendarModal(){this.showLeaveCalendarModal=!1},async leaveGroupCalendar(){try{await b.leaveGroupCalendar(this.activeCalendar.calendarId,this.userId),this.notify({type:"success",message:"You have left the group calendar."}),await this.fetchCalendars(),this.closeLeaveCalendarModal(),this.closeDetailsModal()}catch(e){console.error("Error leaving group calendar:",e);const a=e?.response?.data?.error||"Failed to leave group calendar.";this.notify({type:"error",message:a})}},openEditPersonalCalendarModal(){this.activeCalendar&&(this.showEditPersonalCalendarModal=!0,this.isCreating=!1,this.editPersonalCalendarName=this.activeCalendar.name,this.editPersonalCalendarColor=this.activeCalendar.color,this.initialEditPersonalCalendarName=this.activeCalendar.name,this.initialEditPersonalCalendarColor=this.activeCalendar.color)},handleEditModalBackdropClick(){this.hasUnsavedChanges?this.showDiscardConfirmation=!0:this.closeEditPersonalCalendarModal()},handleCloseEditModal(){this.hasUnsavedChanges?this.showDiscardConfirmation=!0:this.closeEditPersonalCalendarModal()},discardEditChanges(){this.showDiscardConfirmation=!1,this.closeEditPersonalCalendarModal()},cancelDiscard(){this.showDiscardConfirmation=!1},closeEditPersonalCalendarModal(){this.showEditPersonalCalendarModal=!1,this.editPersonalCalendarName="",this.editPersonalCalendarColor="",this.initialEditPersonalCalendarName="",this.initialEditPersonalCalendarColor="",this.isCreating=!1},async editPersonalCalendar(){try{const e={name:this.editPersonalCalendarName,color:this.editPersonalCalendarColor};await b.editPersonalCalendar(this.activeCalendar.calendarId,this.userId,e),this.notify({type:"success",message:"Calendar updated successfully."}),this.closeEditPersonalCalendarModal(),await this.fetchCalendars(),this.closeDetailsModal()}catch(e){console.error("Error editing personal calendar:",e);const a=e?.response?.data?.error||"Failed to edit calendar.";this.notify({type:"error",message:a})}},openAddEventModal(){this.activeCalendarId===this.defaultCalendarId&&this.$refs.homeCalendarRef?this.$refs.homeCalendarRef.openAddEventModal():this.$refs.personalCalendarRef&&this.$refs.personalCalendarRef.openAddEventModal()},confirmDeleteCalendar(){this.showConfirmDeleteModal=!0},closeConfirmDeleteModal(){this.showConfirmDeleteModal=!1},async deleteCalendar(){if(this.activeCalendar){this.isDeleting=!0;try{this.activeCalendar.isGroup?(await b.deleteGroupCalendar(this.activeCalendar.calendarId,this.userId),this.notify({type:"success",message:"Group calendar deleted successfully."})):(await b.deletePersonalCalendar(this.activeCalendar.calendarId,this.userId),this.notify({type:"success",message:"Personal calendar deleted successfully."})),await this.fetchCalendars(),this.defaultCalendarId?this.setActiveCalendar(this.defaultCalendarId):this.calendars.length>0?this.setActiveCalendar(this.calendars[0].calendarId):this.$store.commit("SET_ACTIVE_CALENDAR_ID",null),this.closeDetailsModal(),this.closeConfirmDeleteModal()}catch(e){console.error("Error deleting calendar:",e);const a=e?.response?.data?.error||"Failed to delete calendar.";this.notify({type:"error",message:a})}finally{this.isDeleting=!1}}}}};const Nn=(0,h.A)(Fn,[["render",Es],["__scopeId","data-v-38151ce0"]]);var Gn=Nn;const xn={class:"contact-container"},Xn={class:"form-group"},Rn={class:"form-group"},Qn={key:0,class:"success-message"},Bn={key:1,class:"error-message"};function Yn(e,a,t,l,r,i){return(0,o.uX)(),(0,o.CE)("div",xn,[a[6]||(a[6]=(0,o.Lk)("h1",null,"Contact Us",-1)),a[7]||(a[7]=(0,o.Lk)("p",null,"If you have any issues or inquiries, please fill out the form below and we will get back to you as soon as possible.",-1)),(0,o.Lk)("form",{onSubmit:a[2]||(a[2]=(0,s.D$)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,o.Lk)("div",Xn,[a[3]||(a[3]=(0,o.Lk)("label",{for:"nameOrEmail"},"Your Name or Email",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"nameOrEmail","onUpdate:modelValue":a[0]||(a[0]=e=>r.nameOrEmail=e),required:"",placeholder:"Enter your name or email"},null,512),[[s.Jo,r.nameOrEmail]])]),(0,o.Lk)("div",Rn,[a[4]||(a[4]=(0,o.Lk)("label",{for:"issueDescription"},"Describe Your Problem",-1)),(0,o.bo)((0,o.Lk)("textarea",{id:"issueDescription","onUpdate:modelValue":a[1]||(a[1]=e=>r.issueDescription=e),required:"",placeholder:"Describe your issue"},null,512),[[s.Jo,r.issueDescription]])]),a[5]||(a[5]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1))],32),r.successMessage?((0,o.uX)(),(0,o.CE)("p",Qn,(0,n.v_)(r.successMessage),1)):(0,o.Q3)("",!0),r.errorMessage?((0,o.uX)(),(0,o.CE)("p",Bn,(0,n.v_)(r.errorMessage),1)):(0,o.Q3)("",!0)])}var qn={name:"ContactView",data(){return{nameOrEmail:"",issueDescription:"",successMessage:"",errorMessage:""}},methods:{async submitForm(){if(this.nameOrEmail&&this.issueDescription)try{const e=await fetch("https://formspree.io/f/mjvqzdag",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nameOrEmail:this.nameOrEmail,issueDescription:this.issueDescription})});if(!e.ok)throw new Error("Failed to send the message. Please try again.");this.successMessage="Thank you! Your message has been sent successfully.",this.errorMessage="",this.nameOrEmail="",this.issueDescription=""}catch(e){this.errorMessage=e.message}else this.errorMessage="Please fill in all fields."}}};const On=(0,h.A)(qn,[["render",Yn],["__scopeId","data-v-2cd4e4bf"]]);var $n=On;const _n=[{path:"/",name:"AuthLanding",component:xe},{path:"/dashboard",name:"Dashboard",component:Gn,meta:{requiresAuth:!0}},{path:"/contact",name:"Contact",component:$n}],Wn=(0,g.aE)({history:(0,g.LA)("/"),routes:_n});Wn.beforeEach(((e,a,t)=>{e.matched.some((e=>e.meta.requiresAuth))?I.getters.isAuthenticated?t():t({name:"AuthLanding"}):t()}));var Kn=Wn;(0,s.Ef)(C).use(I).use(Kn).mount("#app")},5247:function(e,a,t){e.exports=t.p+"img/moon.81da24e5.svg"},7391:function(e,a,t){e.exports=t.p+"img/sun.f0c11ab5.svg"},1674:function(e,a,t){e.exports=t.p+"img/eye-off.4b60946a.png"},9862:function(e){e.exports="data:image/png;base64,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"},2563:function(e,a,t){e.exports=t.p+"img/logo-dark.d3ac11a8.png"},3851:function(e,a,t){e.exports=t.p+"img/logo-light.dd6a97b7.png"}},a={};function t(s){var o=a[s];if(void 0!==o)return o.exports;var n=a[s]={exports:{}};return e[s].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(a,s,o,n){if(!s){var l=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],n=e[c][2];for(var r=!0,i=0;i<s.length;i++)(!1&n||l>=n)&&Object.keys(t.O).every((function(e){return t.O[e](s[i])}))?s.splice(i--,1):(r=!1,n<l&&(l=n));if(r){e.splice(c--,1);var d=o();void 0!==d&&(a=d)}}return a}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[s,o,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,s){var o,n,l=s[0],r=s[1],i=s[2],d=0;if(l.some((function(a){return 0!==e[a]}))){for(o in r)t.o(r,o)&&(t.m[o]=r[o]);if(i)var c=i(t)}for(a&&a(s);d<l.length;d++)n=l[d],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(c)},s=self["webpackChunkcalendify_frontend"]=self["webpackChunkcalendify_frontend"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],(function(){return t(3381)}));s=t.O(s)})();